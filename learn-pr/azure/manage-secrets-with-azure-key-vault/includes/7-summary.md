<span data-ttu-id="d21c7-101">I den här modulen har du skyddat en apps hemliga konfiguration i Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="d21c7-101">In this module, you secured an app's secret configuration in Azure Key Vault.</span></span> <span data-ttu-id="d21c7-102">Vår appkod autentiserar till valvet med Hanterad tjänstidentitet och läser automatiskt in hemligheterna från valvet till ASP.NET Core-konfigurationssystemet vid start.</span><span class="sxs-lookup"><span data-stu-id="d21c7-102">Our app code authenticates to the vault with Managed Service Identity and automatically loads the secrets from the vault into ASP.NET Core's configuration system at startup.</span></span>

## <a name="clean-up"></a><span data-ttu-id="d21c7-103">Rensa</span><span class="sxs-lookup"><span data-stu-id="d21c7-103">Clean up</span></span>
<!---TODO: Do we need to include cleanup for the free education tier?--->

<span data-ttu-id="d21c7-104">Om du vill rensa din Azure-prenumeration kör du följande i Azure Cloud Shell för att ta bort resursgruppen som innehåller alla de resurser som vi skapade i den här modulen.</span><span class="sxs-lookup"><span data-stu-id="d21c7-104">To cleanup your Azure subscription, run the following in the Azure Cloud Shell to delete the resource group containing all the resources we created in this module.</span></span>

```console
az group delete --name keyvault-exercise-group
```

<span data-ttu-id="d21c7-105">Du kan rensa Cloud Shell-lagringen genom att ta bort katalogen `KeyVaultDemoApp`.</span><span class="sxs-lookup"><span data-stu-id="d21c7-105">To cleanup your Cloud Shell storage, delete the `KeyVaultDemoApp` directory.</span></span>

## <a name="next-steps"></a><span data-ttu-id="d21c7-106">Nästa steg</span><span class="sxs-lookup"><span data-stu-id="d21c7-106">Next steps</span></span>

<span data-ttu-id="d21c7-107">Om det här var en verklig app, vad är nästa steg?</span><span class="sxs-lookup"><span data-stu-id="d21c7-107">If this was a real app, what would come next?</span></span>

- <span data-ttu-id="d21c7-108">Att placera alla apphemligheter i dina valv!</span><span class="sxs-lookup"><span data-stu-id="d21c7-108">Put all your app secrets in your vaults!</span></span> <span data-ttu-id="d21c7-109">Det finns inte längre någon anledning att ha dem i konfigurationsfiler.</span><span class="sxs-lookup"><span data-stu-id="d21c7-109">There's no longer any reason to have them in configuration files.</span></span>
- <span data-ttu-id="d21c7-110">Fortsätt att utveckla programmet.</span><span class="sxs-lookup"><span data-stu-id="d21c7-110">Continue to develop the application.</span></span> <span data-ttu-id="d21c7-111">Din produktionsmiljö har konfigurerats, och du behöver inte upprepa alla inställningar vid framtida distributioner till miljön.</span><span class="sxs-lookup"><span data-stu-id="d21c7-111">Your production environment is all set up, so for future deployments to it you don't need to repeat all the setup.</span></span>
- <span data-ttu-id="d21c7-112">För att underlätta utvecklingen skapar du ett valv för utvecklingsmiljön som innehåller hemligheter med samma namn men med andra värden.</span><span class="sxs-lookup"><span data-stu-id="d21c7-112">To support development, create a development-environment vault that contains secrets with the same names but different values.</span></span> <span data-ttu-id="d21c7-113">Tilldela behörigheter till utvecklingsteamet och konfigurera valvnamnet i konfigurationsfilen för appens utvecklingsmiljö.</span><span class="sxs-lookup"><span data-stu-id="d21c7-113">Grant permissions to the development team and configure the vault name in the app's development-environment configuration file.</span></span> <span data-ttu-id="d21c7-114">När utvecklare kör appen lokalt identifierar `AddAzureKeyVault` automatiskt lokala installationer av Visual Studio och Azure CLI och använder Azure-autentiseringsuppgifterna som konfigurerats i programmen för att logga in och komma åt valvet.</span><span class="sxs-lookup"><span data-stu-id="d21c7-114">When developers run the app locally, `AddAzureKeyVault` will automatically detect local installations of Visual Studio and the Azure CLI and use Azure credentials configured in those applications to sign in and access the vault.</span></span>
- <span data-ttu-id="d21c7-115">Skapa ytterligare miljöer för särskilda ändamål som till exempel acceptanstest för användare.</span><span class="sxs-lookup"><span data-stu-id="d21c7-115">Create additional environments for purposes like user acceptance testing.</span></span>
- <span data-ttu-id="d21c7-116">Avgränsa valv för olika prenumerationer och/eller resursgrupper för att isolera dem.</span><span class="sxs-lookup"><span data-stu-id="d21c7-116">Separate vaults across different subscriptions and/or resource groups to isolate them.</span></span>
- <span data-ttu-id="d21c7-117">Bevilja åtkomst till andra miljövalv till rätt personer.</span><span class="sxs-lookup"><span data-stu-id="d21c7-117">Grant access to other environment vaults to the appropriate people.</span></span>

## <a name="further-reading"></a><span data-ttu-id="d21c7-118">Ytterligare läsning</span><span class="sxs-lookup"><span data-stu-id="d21c7-118">Further reading</span></span>

- [<span data-ttu-id="d21c7-119">Dokumentation om Key Vault</span><span class="sxs-lookup"><span data-stu-id="d21c7-119">Key Vault documentation</span></span>](https://docs.microsoft.com/azure/key-vault/)
- [<span data-ttu-id="d21c7-120">Mer om AddAzureKeyVault och dess avancerade alternativ</span><span class="sxs-lookup"><span data-stu-id="d21c7-120">More about AddAzureKeyVault and its advanced options</span></span>](https://docs.microsoft.com/aspnet/core/security/key-vault-configuration?view=aspnetcore-2.1&tabs=aspnetcore2x)
- <span data-ttu-id="d21c7-121">[Den här självstudien](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) beskriver hur du använder `KeyVaultClient`, inklusive manuell autentisering mot Azure Active Directory med hjälp av en klienthemlighet i stället för MSI.</span><span class="sxs-lookup"><span data-stu-id="d21c7-121">[This tutorial](https://docs.microsoft.com/azure/key-vault/key-vault-use-from-web-application) walks through using `KeyVaultClient`, including manually authenticating it to Azure Active Directory using a client secret instead of MSI.</span></span>
- <span data-ttu-id="d21c7-122">[Dokumentation om MSI-tokentjänsten](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol) om du vill implementera autentiseringsarbetsflödet själv</span><span class="sxs-lookup"><span data-stu-id="d21c7-122">[MSI token service documentation](https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity#using-the-rest-protocol), for implementing the authentication workflow yourself</span></span>