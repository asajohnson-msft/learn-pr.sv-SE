<span data-ttu-id="bda5b-101">Vi har en befintlig webbplats som körs på en lokal Ubuntu Linux-server.</span><span class="sxs-lookup"><span data-stu-id="bda5b-101">We have an existing website running on a local Ubuntu Linux server.</span></span> <span data-ttu-id="bda5b-102">Vårt mål är att skapa en virtuell Azure-dator med den senaste Ubuntu-avbildningen och migrera webbplatsen till molnet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-102">Our goal is to create an Azure virtual machine (VM), using the latest Ubuntu image, and migrate the site to the cloud.</span></span> <span data-ttu-id="bda5b-103">I den här delen lär du dig om de alternativ du behöver för att avgöra när du ska skapa en virtuell dator i Azure.</span><span class="sxs-lookup"><span data-stu-id="bda5b-103">In this unit, you will learn about the options you will need to decide when creating a virtual machine in Azure.</span></span>

## <a name="introduction-to-azure-virtual-machines"></a><span data-ttu-id="bda5b-104">Introduktion till Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="bda5b-104">Introduction to Azure Virtual Machines</span></span>

<span data-ttu-id="bda5b-105">Virtuella datorer i Azure är databearbetningsresurser som kan skalas om på begäran.</span><span class="sxs-lookup"><span data-stu-id="bda5b-105">Azure Virtual Machines are an on-demand, scalable cloud-computing resource.</span></span> <span data-ttu-id="bda5b-106">De omfattar resurser för processor, minne, lagring och nätverk.</span><span class="sxs-lookup"><span data-stu-id="bda5b-106">They include processor, memory, storage, and networking resources.</span></span> <span data-ttu-id="bda5b-107">Du kan starta och stoppa de virtuella datorerna och hantera dem från Azure Portal eller via Azure CLI.</span><span class="sxs-lookup"><span data-stu-id="bda5b-107">You can start and stop virtual machines at will and manage them from the Azure portal or with the Azure CLI.</span></span> <span data-ttu-id="bda5b-108">Du kan även använda en fjärr-SSH för att ansluta direkt till den virtuella dator som körs och köra kommandon som om du använder en lokal dator.</span><span class="sxs-lookup"><span data-stu-id="bda5b-108">You can also use a remote Secure Shell (SSH) to connect directly to the running VM and execute commands as if you are on a local computer.</span></span>

### <a name="running-linux-in-azure"></a><span data-ttu-id="bda5b-109">Köra Linux i Azure</span><span class="sxs-lookup"><span data-stu-id="bda5b-109">Running Linux in Azure</span></span>

<span data-ttu-id="bda5b-110">Att skapa Linux-baserade virtuella datorer i Azure är enkelt.</span><span class="sxs-lookup"><span data-stu-id="bda5b-110">Creating Linux-based VMs in Azure is easy.</span></span> <span data-ttu-id="bda5b-111">Microsoft samarbetar med framstående Linux-leverantörer för att säkerställa att deras distributioner optimeras för Azure-plattformen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-111">Microsoft has partnered with prominent Linux vendors to ensure their distributions are optimized for the Azure platform.</span></span> <span data-ttu-id="bda5b-112">Du kan skapa virtuella datorer utifrån färdiga avbildningar för olika populära Linux-distributioner som SUSE, Red Hat och Ubuntu, eller skapa din egen Linux-distribution för körning i molnet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-112">You can create virtual machines from prebuilt images for a variety of popular Linux distributions such as SUSE, Red Hat, and Ubuntu or build your own Linux distribution to run in the cloud.</span></span>

## <a name="creating-an-azure-vm"></a><span data-ttu-id="bda5b-113">Skapa en virtuell Azure-dator</span><span class="sxs-lookup"><span data-stu-id="bda5b-113">Creating an Azure VM</span></span>

<span data-ttu-id="bda5b-114">Virtuella datorer kan definieras och distribueras i Azure på flera olika sätt: Azure Portal, ett skript (med Azure CLI eller Azure PowerShell) eller via en Azure Resource Manager-mall.</span><span class="sxs-lookup"><span data-stu-id="bda5b-114">VMs can be defined and deployed on Azure in several ways: the Azure portal, a script (using the Azure CLI or Azure PowerShell), or through an Azure Resource Manager template.</span></span> <span data-ttu-id="bda5b-115">I samtliga fall behöver du ange flera typer av information, vilket vi återkommer till strax.</span><span class="sxs-lookup"><span data-stu-id="bda5b-115">In all cases, you will need to supply several pieces of information that we'll cover shortly.</span></span>

<span data-ttu-id="bda5b-116">Azure Marketplace har också förkonfigurerade avbildningar som innehåller både ett operativsystem och favoritprogram installerade för specifika scenarier.</span><span class="sxs-lookup"><span data-stu-id="bda5b-116">The Azure Marketplace also provides preconfigured images that include both an OS and favorite software tools installed for specific scenarios.</span></span>

![Skärmbild av Azure Portal med olika alternativ för virtuella datorer i Azure Marketplace.](../media/2-marketplace-vm-choices.png)

## <a name="resources-used-in-a-linux-vm"></a><span data-ttu-id="bda5b-118">Resurser som används på en virtuell Linux-dator</span><span class="sxs-lookup"><span data-stu-id="bda5b-118">Resources used in a Linux VM</span></span>

<span data-ttu-id="bda5b-119">När du skapar en virtuell Linux-dator i Azure skapar du även resurser för den virtuella datorns värdmiljö.</span><span class="sxs-lookup"><span data-stu-id="bda5b-119">When creating a Linux VM in Azure, you also create resources to host the VM.</span></span> <span data-ttu-id="bda5b-120">De här resurserna fungerar tillsammans för att virtualisera en dator och köra operativsystemet Linux.</span><span class="sxs-lookup"><span data-stu-id="bda5b-120">These resources work together to virtualize a computer and run the Linux operating system.</span></span> <span data-ttu-id="bda5b-121">Dessa måste redan finnas (och väljas när den virtuella datorn skapas). Annars skapas de samtidigt som den virtuella datorn:</span><span class="sxs-lookup"><span data-stu-id="bda5b-121">These must either exist (and be selected during VM creation), or they will be created with the VM:</span></span>

- <span data-ttu-id="bda5b-122">En virtuell dator som tillhandahåller CPU- och minnesresurser</span><span class="sxs-lookup"><span data-stu-id="bda5b-122">A virtual machine that provides CPU and memory resources</span></span>
- <span data-ttu-id="bda5b-123">Ett Azure Storage-konto för att lagra de virtuella hårddiskarna</span><span class="sxs-lookup"><span data-stu-id="bda5b-123">An Azure Storage account to hold the virtual hard disks</span></span>
- <span data-ttu-id="bda5b-124">Virtuella diskar med operativsystem, program och data</span><span class="sxs-lookup"><span data-stu-id="bda5b-124">Virtual disks to hold the OS, applications, and data</span></span>
- <span data-ttu-id="bda5b-125">Ett virtuellt nätverk för att ansluta den virtuella datorn till andra Azure-tjänster eller din lokala maskinvara</span><span class="sxs-lookup"><span data-stu-id="bda5b-125">A virtual network (VNet) to connect the VM to other Azure services or your on-premise hardware</span></span>
- <span data-ttu-id="bda5b-126">Ett nätverksgränssnitt för att kommunicera med det virtuella nätverket</span><span class="sxs-lookup"><span data-stu-id="bda5b-126">A network interface to communicate with the VNet</span></span>
- <span data-ttu-id="bda5b-127">En valfri offentlig IP-adress så att du kommer åt den virtuella datorn</span><span class="sxs-lookup"><span data-stu-id="bda5b-127">An optional public IP address so you can access the VM</span></span>

<span data-ttu-id="bda5b-128">Liksom andra Azure-tjänster behöver du en **resursgrupp** som innehåller den virtuella datorn (och du kan också gruppera resurserna för administration).</span><span class="sxs-lookup"><span data-stu-id="bda5b-128">Like other Azure services, you'll need a **Resource Group** to contain the VM (and optionally group these resources for administration).</span></span> <span data-ttu-id="bda5b-129">När du skapar en ny virtuell dator kan du antingen använda en befintlig resursgrupp eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="bda5b-129">When you create a new VM, you can either use an existing resource group or create a new one.</span></span>

## <a name="choose-the-vm-image"></a><span data-ttu-id="bda5b-130">Välja VM-avbildning</span><span class="sxs-lookup"><span data-stu-id="bda5b-130">Choose the VM image</span></span>

<span data-ttu-id="bda5b-131">Att välja avbildning är ett av de första och viktigaste besluten när du skapar en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="bda5b-131">Selecting an image is one of the first and most important decisions you'll make when creating a VM.</span></span> <span data-ttu-id="bda5b-132">En avbildning är mallen som används till att skapa den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bda5b-132">An image is a template that's used to create a VM.</span></span> <span data-ttu-id="bda5b-133">Dessa mallar har ett operativsystem och ofta annan programvara, som utvecklingsverktyg eller värdmiljöer för webben.</span><span class="sxs-lookup"><span data-stu-id="bda5b-133">These templates include an OS and often other software, such as development tools or web hosting environments.</span></span>

<span data-ttu-id="bda5b-134">Allt som kan installeras på en dator kan ingå i en avbildning.</span><span class="sxs-lookup"><span data-stu-id="bda5b-134">Anything that a computer can have installed can be included in an image.</span></span> <span data-ttu-id="bda5b-135">Du kan skapa en virtuell dator som är förkonfigurerade för precis de uppgifter du behöver, till exempel värd för en webbapp på Apache HTTP-servern.</span><span class="sxs-lookup"><span data-stu-id="bda5b-135">You can create a VM from an image that's preconfigured to precisely the tasks you need, such as hosting a web app on the Apache HTTP Server.</span></span>

> [!TIP]  
> <span data-ttu-id="bda5b-136">Du kan också skapa och ladda upp anpassade diskavbildningar.</span><span class="sxs-lookup"><span data-stu-id="bda5b-136">You can also create and upload custom disk images.</span></span> <span data-ttu-id="bda5b-137">Mer information finns i dokumentationen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-137">Check the documentation for more information.</span></span>

## <a name="sizing-your-vm"></a><span data-ttu-id="bda5b-138">Ange storlek för den virtuella datorn</span><span class="sxs-lookup"><span data-stu-id="bda5b-138">Sizing your VM</span></span>

<span data-ttu-id="bda5b-139">En virtuell dator har en viss mängd minne och processorkraft precis som en fysisk dator.</span><span class="sxs-lookup"><span data-stu-id="bda5b-139">Just as a physical machine has a certain amount of memory and CPU power, so does a virtual machine.</span></span> <span data-ttu-id="bda5b-140">Azure erbjuder virtuella datorer i olika storlekar till olika priser.</span><span class="sxs-lookup"><span data-stu-id="bda5b-140">Azure offers a range of VMs of differing sizes at different price points.</span></span> <span data-ttu-id="bda5b-141">Den storlek du väljer bestämmer den virtuella datorns bearbetningskraft, minne och maximala lagringskapacitet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-141">The size that you choose will determine the VM's processing power, memory, and maximum storage capacity.</span></span>

> [!WARNING]
> <span data-ttu-id="bda5b-142">Det finns kvotgränser för varje prenumeration som kan påverka skapandet av den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bda5b-142">There are quota limits on each subscription that can impact VM creation.</span></span> <span data-ttu-id="bda5b-143">Som standard kan du inte ha mer än sammanlagt 20 virtuella _kärnor_ på dina virtuella datorer i en region.</span><span class="sxs-lookup"><span data-stu-id="bda5b-143">By default, you cannot have more than 20 virtual _cores_ across all VMs within a region.</span></span> <span data-ttu-id="bda5b-144">Du kan dela upp virtuella datorer i olika regioner eller lämna en [onlinebegäran](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request) om att höja gränsen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-144">You can either split up VMs across regions or file an [online request](https://docs.microsoft.com/azure/azure-supportability/resource-manager-core-quotas-request) to increase your limits.</span></span>

<span data-ttu-id="bda5b-145">Storlekar på virtuella datorer grupperas i kategorier, från B-serien för grundläggande testning och upp till H-serien för stora databehandlingsuppgifter.</span><span class="sxs-lookup"><span data-stu-id="bda5b-145">VM sizes are grouped into categories, starting with the B-series for basic testing and running up to the H-series for massive computing tasks.</span></span> <span data-ttu-id="bda5b-146">Du bör välja storlek av virtuell dator utifrån den arbetsbelastning du vill utföra.</span><span class="sxs-lookup"><span data-stu-id="bda5b-146">You should select the size of the VM based on the workload you want to perform.</span></span> <span data-ttu-id="bda5b-147">Du kan ändra storlek på en virtuell dator när den har skapats men den virtuella datorn måste stoppas först, så det är bäst att välja en lämplig storlek från början, om det är möjligt.</span><span class="sxs-lookup"><span data-stu-id="bda5b-147">It is possible to change the size of a VM after it's been created, but the VM must be stopped first, so it's best to size it appropriately from the start if possible.</span></span>

#### <a name="here-are-some-guidelines-based-on-the-scenario-you-are-targeting"></a><span data-ttu-id="bda5b-148">Här är några riktlinjer som baseras på det scenario du arbetar med</span><span class="sxs-lookup"><span data-stu-id="bda5b-148">Here are some guidelines based on the scenario you are targeting</span></span>

| <span data-ttu-id="bda5b-149">Vad gör du?</span><span class="sxs-lookup"><span data-stu-id="bda5b-149">What are you doing?</span></span> | <span data-ttu-id="bda5b-150">Överväg de här storlekarna</span><span class="sxs-lookup"><span data-stu-id="bda5b-150">Consider these sizes</span></span>
|-------|------------------|
| <span data-ttu-id="bda5b-151">**Allmän databearbetning/webb** :Testning och utveckling, små till medelstora databaser eller webbservrar med låg till medelhög trafik.</span><span class="sxs-lookup"><span data-stu-id="bda5b-151">**General use computing/web**: Testing and development, small to medium databases, or low to medium traffic web servers.</span></span> | <span data-ttu-id="bda5b-152">B, Dsv3, Dv3, DSv2, Dv2</span><span class="sxs-lookup"><span data-stu-id="bda5b-152">B, Dsv3, Dv3, DSv2, Dv2</span></span> |
| <span data-ttu-id="bda5b-153">**Tunga databearbetningsuppgifter**: Webbservrar med medelhög trafik, nätverkstillämpningar, batchprocesser och programservrar.</span><span class="sxs-lookup"><span data-stu-id="bda5b-153">**Heavy computational tasks**: Medium traffic web servers, network appliances, batch processes, and application servers.</span></span> | <span data-ttu-id="bda5b-154">Fsv2, Fs, F</span><span class="sxs-lookup"><span data-stu-id="bda5b-154">Fsv2, Fs, F</span></span> |
| <span data-ttu-id="bda5b-155">**Stor minnesanvändning**: Relationsdatabasservrar, medelstora till stora cacheminnen och minnesinterna analyser.</span><span class="sxs-lookup"><span data-stu-id="bda5b-155">**Large memory usage**: Relational database servers, medium to large caches, and in-memory analytics.</span></span> | <span data-ttu-id="bda5b-156">Esv3, Ev3, M, GS, G, DSv2, Dv2</span><span class="sxs-lookup"><span data-stu-id="bda5b-156">Esv3, Ev3, M, GS, G, DSv2, Dv2</span></span> |
| <span data-ttu-id="bda5b-157">**Lagring och bearbetning av data**: Stordata, SQL- och NoSQL-databaser som behöver högt diskgenomflöde och I/O.</span><span class="sxs-lookup"><span data-stu-id="bda5b-157">**Data storage and processing**: Big data, SQL, and NoSQL databases that need high disk throughput and I/O.</span></span> | <span data-ttu-id="bda5b-158">Ls</span><span class="sxs-lookup"><span data-stu-id="bda5b-158">Ls</span></span> |
| <span data-ttu-id="bda5b-159">**Tung grafikrendering** eller videoredigering samt modellträning och inferensjobb (ND) med djupinlärning.</span><span class="sxs-lookup"><span data-stu-id="bda5b-159">**Heavy graphics rendering** or video editing, as well as model training and inferencing (ND) with deep learning.</span></span> | <span data-ttu-id="bda5b-160">NV, NC, NCv2, NCv3, ND</span><span class="sxs-lookup"><span data-stu-id="bda5b-160">NV, NC, NCv2, NCv3, ND</span></span> |
| <span data-ttu-id="bda5b-161">**Databearbetning med höga prestanda (HPC)**: Om du behöver virtuella datorer med de snabbaste och mest kraftfulla processorerna med valfria nätverksgränssnitt för högt genomflöde.</span><span class="sxs-lookup"><span data-stu-id="bda5b-161">**High-performance computing (HPC)**: If you need the fastest and most powerful CPU virtual machines with optional high-throughput network interfaces.</span></span> | <span data-ttu-id="bda5b-162">H</span><span class="sxs-lookup"><span data-stu-id="bda5b-162">H</span></span> |

## <a name="choosing-storage-options"></a><span data-ttu-id="bda5b-163">Välja lagringsalternativ</span><span class="sxs-lookup"><span data-stu-id="bda5b-163">Choosing storage options</span></span>

<span data-ttu-id="bda5b-164">Nästa uppsättning beslut kretsar kring lagring.</span><span class="sxs-lookup"><span data-stu-id="bda5b-164">The next set of decisions revolve around storage.</span></span> <span data-ttu-id="bda5b-165">Först kan du välja diskteknik.</span><span class="sxs-lookup"><span data-stu-id="bda5b-165">First, you can choose the disk technology.</span></span> <span data-ttu-id="bda5b-166">Du kan välja en traditionell skivbaserad hårddisk (HDD) eller en modernare Solid State-hårddisk (SSD).</span><span class="sxs-lookup"><span data-stu-id="bda5b-166">Options include a traditional platter-based hard disk drive (HDD) or a more modern solid-state drive (SSD).</span></span> <span data-ttu-id="bda5b-167">Precis som maskinvara som du köper kostar SSD-lagring mer men ger bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="bda5b-167">Just like the hardware you purchase, SSD storage costs more but provides better performance.</span></span>

> [!TIP]
> <span data-ttu-id="bda5b-168">Det finns två nivåer av SSD-lagring: standard och premium.</span><span class="sxs-lookup"><span data-stu-id="bda5b-168">There are two levels of SSD storage available: standard and premium.</span></span> <span data-ttu-id="bda5b-169">Välj Standard SSD-diskar om du har normala arbetsbelastningar men vill ha bättre prestanda.</span><span class="sxs-lookup"><span data-stu-id="bda5b-169">Choose Standard SSD disks if you have normal workloads but want better performance.</span></span> <span data-ttu-id="bda5b-170">Välj Premium SSD-diskar om du har I/O-intensiva arbetsbelastningar eller verksamhetskritiska system som behöver bearbeta data mycket snabbt.</span><span class="sxs-lookup"><span data-stu-id="bda5b-170">Choose Premium SSD disks if you have I/O intensive workloads or mission-critical systems that need to process data very quickly.</span></span>

### <a name="mapping-storage-to-disks"></a><span data-ttu-id="bda5b-171">Mappa lagring till diskar</span><span class="sxs-lookup"><span data-stu-id="bda5b-171">Mapping storage to disks</span></span>

<span data-ttu-id="bda5b-172">Azure använder virtuella hårddiskar (VHD) för att representera fysiska diskar för den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bda5b-172">Azure uses virtual hard disks (VHDs) to represent physical disks for the VM.</span></span> <span data-ttu-id="bda5b-173">Virtuella hårddiskar replikerar det logiska formatet och data hos en diskenhet men lagras som sidblobbar på ett Azure Storage-konto.</span><span class="sxs-lookup"><span data-stu-id="bda5b-173">VHDs replicate the logical format and data of a disk drive but are stored as page blobs in an Azure Storage account.</span></span> <span data-ttu-id="bda5b-174">För varje disk kan du välja vilken typ av lagring den ska använda (SSD eller HDD).</span><span class="sxs-lookup"><span data-stu-id="bda5b-174">You can choose on a per disk basis what type of storage it should use (SSD or HDD).</span></span> <span data-ttu-id="bda5b-175">Det gör att du kan kontrollera varje disks prestanda, troligen baserat på den I/O du planerar att utföra på den.</span><span class="sxs-lookup"><span data-stu-id="bda5b-175">This allows you to control the performance of each disk, likely based on the I/O you plan to perform on it.</span></span>

<span data-ttu-id="bda5b-176">Som standard skapas två virtuella hårddiskar (VHD) för den virtuella Linux-datorn:</span><span class="sxs-lookup"><span data-stu-id="bda5b-176">By default, two virtual hard disks (VHDs) will be created for your Linux VM:</span></span>

1. <span data-ttu-id="bda5b-177">**Operativsystemdisken**: Detta är din primära enhet med en maxkapacitet på 2 048 GB.</span><span class="sxs-lookup"><span data-stu-id="bda5b-177">The **operating system disk**: This is your primary drive and has a maximum capacity of 2048 GB.</span></span> <span data-ttu-id="bda5b-178">Den är märkt `/dev/sda` som standard.</span><span class="sxs-lookup"><span data-stu-id="bda5b-178">It will be labeled as `/dev/sda` by default.</span></span>

1. <span data-ttu-id="bda5b-179">En **tillfällig disk**: Tillhandahåller temporär lagring för operativsystem eller appar.</span><span class="sxs-lookup"><span data-stu-id="bda5b-179">A **temporary disk**: This provides temporary storage for the OS or any apps.</span></span> <span data-ttu-id="bda5b-180">På virtuella Linux-datorer är disken `/dev/sdb` och formateras och monteras i `/mnt` av Azure Linux-agenten.</span><span class="sxs-lookup"><span data-stu-id="bda5b-180">On Linux virtual machines, the disk is `/dev/sdb` and is formatted and mounted to `/mnt` by the Azure Linux Agent.</span></span> <span data-ttu-id="bda5b-181">Dess storlek baseras på storleken på den virtuella datorn för att lagra växlingsfilen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-181">It is sized based on the VM size and is used to store the swap file.</span></span> 

> [!WARNING]
> <span data-ttu-id="bda5b-182">Den tillfälliga disken är inte beständig.</span><span class="sxs-lookup"><span data-stu-id="bda5b-182">The temporary disk is not persistent.</span></span> <span data-ttu-id="bda5b-183">Du ska bara skriva data till den här disken som inte är kritiska för systemet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-183">You should only write data to this disk that is not critical to the system.</span></span>

#### <a name="what-about-data"></a><span data-ttu-id="bda5b-184">Hur är det med data?</span><span class="sxs-lookup"><span data-stu-id="bda5b-184">What about data?</span></span>

<span data-ttu-id="bda5b-185">Du kan lagra data på den primära enheten tillsammans med operativsystemet men det är bättre att skapa dedikerade _datadiskar_.</span><span class="sxs-lookup"><span data-stu-id="bda5b-185">You can store data on the primary drive along with the OS, but a better approach is to create dedicated _data disks_.</span></span> <span data-ttu-id="bda5b-186">Du kan skapa och koppla ytterligare diskar till den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bda5b-186">You can create and attach additional disks to the VM.</span></span> <span data-ttu-id="bda5b-187">Varje disk kan lagra upp till 4 095 GB data, där den maximala mängden lagring bestäms av den VM-storlek du väljer.</span><span class="sxs-lookup"><span data-stu-id="bda5b-187">Each disk can hold up to 4095 GB of data, with the maximum amount of storage determined by the VM size you select.</span></span>

> [!NOTE]  
> <span data-ttu-id="bda5b-188">En intressant funktion är möjligheten att skapa en VHD-avbildning från en riktig disk.</span><span class="sxs-lookup"><span data-stu-id="bda5b-188">An interesting capability is to create a VHD image from a real disk.</span></span> <span data-ttu-id="bda5b-189">Då kan du enkelt migrera _befintlig_ information från en lokal dator till molnet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-189">This allows you to easily migrate _existing_ information from an on-premises computer to the cloud.</span></span>

### <a name="unmanaged-vs-managed-disks"></a><span data-ttu-id="bda5b-190">Ohanterade respektive hanterade diskar</span><span class="sxs-lookup"><span data-stu-id="bda5b-190">Unmanaged vs. managed disks</span></span>

<span data-ttu-id="bda5b-191">Du slutliga lagringsvalet du gör är om du ska använda **ohanterade** eller **hanterade** diskar.</span><span class="sxs-lookup"><span data-stu-id="bda5b-191">The final storage choice you'll make is whether to use **unmanaged** or **managed** disks.</span></span>

<span data-ttu-id="bda5b-192">Med ohanterade diskar ansvarar du för lagringskontona som används för att lagra de virtuella hårddiskarna som motsvarar diskarna på din virtuella dator.</span><span class="sxs-lookup"><span data-stu-id="bda5b-192">With unmanaged disks, you are responsible for the storage accounts that are used to hold the VHDs that correspond to your VM disks.</span></span> <span data-ttu-id="bda5b-193">Du betalar lagringskontoavgifter för den mängd utrymme du använder.</span><span class="sxs-lookup"><span data-stu-id="bda5b-193">You pay the storage account rates for the amount of space you use.</span></span> <span data-ttu-id="bda5b-194">Ett lagringskonto har en fast gräns på 20 000 I/O-åtgärder per sekund. Det betyder att ett enda lagringskonto kan hantera 40 virtuella standardhårddiskar vid maxkapacitet.</span><span class="sxs-lookup"><span data-stu-id="bda5b-194">A single storage account has a fixed rate limit of 20,000 I/O operations/sec. This means that a single storage account is capable of supporting 40 standard virtual hard disks at full throttle.</span></span> <span data-ttu-id="bda5b-195">Om du behöver skala ut behöver du fler än ett lagringskonto, något som kan vara komplicerat.</span><span class="sxs-lookup"><span data-stu-id="bda5b-195">If you need to scale out, then you need more than one storage account, which can get complicated.</span></span>

<span data-ttu-id="bda5b-196">Hanterade diskar är den nyare och rekommenderade disklagringsmodellen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-196">Managed disks are the newer and recommended disk storage model.</span></span> <span data-ttu-id="bda5b-197">De löser elegant den här komplexiteten genom att lägga hanteringen av lagringskonton på Azure.</span><span class="sxs-lookup"><span data-stu-id="bda5b-197">They elegantly solve this complexity by putting the burden of managing the storage accounts onto Azure.</span></span> <span data-ttu-id="bda5b-198">Du anger disktypen (Premium eller Standard) och storleken på disken, så skapar och hanterar Azure både disken _och_ den lagring som disken använder.</span><span class="sxs-lookup"><span data-stu-id="bda5b-198">You specify the disk type (Premium or Standard) and the size of the disk, and Azure creates and manages both the disk _and_ the storage it uses.</span></span> <span data-ttu-id="bda5b-199">Du behöver inte bekymra dig om begränsningar i lagringskontot, vilket gör det lättare att skala ut. De har också andra fördelar:</span><span class="sxs-lookup"><span data-stu-id="bda5b-199">You don't have to worry about storage account limits, which makes them easier to scale out. They also offer several other benefits:</span></span>

- <span data-ttu-id="bda5b-200">**Ökad tillförlitlighet**: Azure ser till att virtuella hårddiskar associerade med virtuella datorer med hög tillförlitlighet placeras i olika delar av Azure Storage för att ge motsvarande återhämtningsnivåer.</span><span class="sxs-lookup"><span data-stu-id="bda5b-200">**Increased reliability**: Azure ensures that VHDs associated with high-reliability VMs will be placed in different parts of Azure Storage to provide similar levels of resilience.</span></span>
- <span data-ttu-id="bda5b-201">**Bättre säkerhet**: Hanterade diskar är verkliga hanterade resurser i resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-201">**Better security**: Managed disks are real managed resources in the resource group.</span></span> <span data-ttu-id="bda5b-202">Det betyder att de kan använda rollbaserad åtkomstkontroll för att begränsa vilka som kan arbeta med VHD-data.</span><span class="sxs-lookup"><span data-stu-id="bda5b-202">This means they can use role-based access control to restrict who can work with the VHD data.</span></span>
- <span data-ttu-id="bda5b-203">**Stöd för ögonblicksbilder**: Ögonblicksbilder kan användas för att skapa en skrivskyddad kopia av en VHD.</span><span class="sxs-lookup"><span data-stu-id="bda5b-203">**Snapshot support**: Snapshots can be used to create a read-only copy of a VHD.</span></span> <span data-ttu-id="bda5b-204">Du måste stänga av den ägande virtuella datorn, men det tar bara några sekunder att skapa ögonblicksbilden.</span><span class="sxs-lookup"><span data-stu-id="bda5b-204">You have to shut down the owning VM, but creating the snapshot only takes a few seconds.</span></span> <span data-ttu-id="bda5b-205">När det är gjort kan du starta den virtuella datorn igen och använda ögonblicksbilden för att skapa en dubblett av den virtuella datorn. Du kan sedan använda dubbletten för att felsöka ett produktionsproblem eller för att återställa den virtuella datorn till tidpunkten då ögonblicksbilden togs.</span><span class="sxs-lookup"><span data-stu-id="bda5b-205">Once it's done, you can power on the VM and use the snapshot to create a duplicate VM to troubleshoot a production issue or roll back the VM to the point in time that the snapshot was taken.</span></span>
- <span data-ttu-id="bda5b-206">**Stöd för säkerhetskopiering**: Hanterade diskar kan automatiskt säkerhetskopieras till olika regioner för haveriberedskap med Azure Backup, utan att driften av den virtuella datorn påverkas.</span><span class="sxs-lookup"><span data-stu-id="bda5b-206">**Backup support**: Managed disks can be automatically backed up to different regions for disaster recovery with Azure Backup, all without affecting the service of the VM.</span></span>

## <a name="network-communication"></a><span data-ttu-id="bda5b-207">Nätverkskommunikation</span><span class="sxs-lookup"><span data-stu-id="bda5b-207">Network communication</span></span>

<span data-ttu-id="bda5b-208">Virtuella datorer kommunicerar med externa resurser med hjälp av ett virtuellt nätverk.</span><span class="sxs-lookup"><span data-stu-id="bda5b-208">Virtual machines communicate with external resources using a virtual network (VNet).</span></span> <span data-ttu-id="bda5b-209">Det virtuella nätverket representerar ett privat nätverk i en region som dina resurser kommunicerar i.</span><span class="sxs-lookup"><span data-stu-id="bda5b-209">The VNet represents a private network in a single region that your resources communicate on.</span></span> <span data-ttu-id="bda5b-210">Ett virtuellt nätverk är precis som de nätverk du hanterar lokalt.</span><span class="sxs-lookup"><span data-stu-id="bda5b-210">A virtual network is just like the networks you manage on-premises.</span></span> <span data-ttu-id="bda5b-211">Du kan dela upp dem i undernät för att isolera resurser, ansluta dem till andra nätverk (inklusive dina lokala nätverk) och tillämpa trafikregler för att styra inkommande och utgående anslutningar.</span><span class="sxs-lookup"><span data-stu-id="bda5b-211">You can divide them up with subnets to isolate resources, connect them to other networks (including your on-premises networks), and apply traffic rules to govern inbound and outbound connections.</span></span>

### <a name="planning-your-network"></a><span data-ttu-id="bda5b-212">Planera nätverket</span><span class="sxs-lookup"><span data-stu-id="bda5b-212">Planning your network</span></span>

<span data-ttu-id="bda5b-213">När du skapar en ny virtuell dator har du möjlighet att skapa ett nytt virtuellt nätverk eller använda ett befintligt i din region.</span><span class="sxs-lookup"><span data-stu-id="bda5b-213">When you create a new VM, you will have the option of creating a new virtual network or using an existing VNet in your region.</span></span>

<span data-ttu-id="bda5b-214">Det är enkelt att låta Azure skapa nätverket tillsammans med den virtuella datorn men det passar troligen inte de flesta scenarier.</span><span class="sxs-lookup"><span data-stu-id="bda5b-214">Having Azure create the network together with the VM is simple, but it's likely not ideal for most scenarios.</span></span> <span data-ttu-id="bda5b-215">Det är bättre att planera dina nätverkskrav _direkt_ för alla komponenter i arkitekturen och skapa strukturen för det virtuella nätverket separat.</span><span class="sxs-lookup"><span data-stu-id="bda5b-215">It's better to plan your network requirements _up front_ for all the components in your architecture and create the VNet structure separately.</span></span> <span data-ttu-id="bda5b-216">Skapa sedan de virtuella datorerna och placera dem i de redan skapade virtuella nätverken.</span><span class="sxs-lookup"><span data-stu-id="bda5b-216">Then create the VMs and place them into the already-created VNets.</span></span> <span data-ttu-id="bda5b-217">Vi tittar mer på virtuella nätverk senare i den här modulen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-217">We'll look more at virtual networks later in this module.</span></span>

<span data-ttu-id="bda5b-218">Innan vi skapar en virtuell dator måste vi bestämma hur vi vill administrera den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bda5b-218">Before we create a virtual machine, we need to decide how we'd like to administer the VM.</span></span> <span data-ttu-id="bda5b-219">Nu ska vi titta på de olika alternativen.</span><span class="sxs-lookup"><span data-stu-id="bda5b-219">Let's look at our options.</span></span>