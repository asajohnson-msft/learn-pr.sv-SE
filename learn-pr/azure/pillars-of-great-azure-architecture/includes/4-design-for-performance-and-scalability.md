<span data-ttu-id="a8033-101">Tänk dig att nyheterna nyss har publicerat en artikel som handlar om din organisations banbrytande cancerbehandling.</span><span class="sxs-lookup"><span data-stu-id="a8033-101">Imagine a news story has just been published covering your organization's breakthrough cancer treatment.</span></span> <span data-ttu-id="a8033-102">Det här är en fantastisk milstolpe, och det kommer säkerligen att leda en stor mängd trafik till din webbplats.</span><span class="sxs-lookup"><span data-stu-id="a8033-102">This is a terrific milestone, and will undoubtedly bring a large influx of traffic to your website.</span></span> <span data-ttu-id="a8033-103">Kommer webbplatsen att kunna hantera den här trafikökningen, eller kommer belastningen att leda till att webbplatsen blir långsam eller slutar svara?</span><span class="sxs-lookup"><span data-stu-id="a8033-103">Will the website handle this traffic increase, or will the load cause the site to be slow or unresponsive?</span></span>

<span data-ttu-id="a8033-104">Här tittar vi på några grundläggande principer som säkerställer att programmens prestanda hålls på topp med hjälp av principer för skalning och optimering.</span><span class="sxs-lookup"><span data-stu-id="a8033-104">Here, we'll look at some of the basic principles of ensuring outstanding application performance using scaling and optimization principles.</span></span>

## <a name="what-is-scaling-and-performance-optimization"></a><span data-ttu-id="a8033-105">Vad är skalning och prestandaoptimering?</span><span class="sxs-lookup"><span data-stu-id="a8033-105">What is scaling and performance optimization?</span></span>

<span data-ttu-id="a8033-106">Skalning och prestandaoptimering handlar om att matcha de resurser som är tillgängliga för ett program med efterfrågan på programmet.</span><span class="sxs-lookup"><span data-stu-id="a8033-106">Scaling and performance optimization are about matching the resources available to an application with the demand it is receiving.</span></span> <span data-ttu-id="a8033-107">I prestandaoptimering ingår skalningsresurser, identifiering och optimering av eventuella flaskhalsar samt optimering av programkoden för topprestanda.</span><span class="sxs-lookup"><span data-stu-id="a8033-107">Performance optimization includes scaling resources, identifying and optimizing potential bottlenecks, and optimizing your application code for peak performance.</span></span>

### <a name="scaling"></a><span data-ttu-id="a8033-108">Skalning</span><span class="sxs-lookup"><span data-stu-id="a8033-108">Scaling</span></span>

<span data-ttu-id="a8033-109">Beräkningsresurserna kan skalas i två olika riktningar:</span><span class="sxs-lookup"><span data-stu-id="a8033-109">Compute resources can be scaled in two different directions:</span></span>

* <span data-ttu-id="a8033-110">När man skalar *upp* lägger man till fler resurser till en enda instans.</span><span class="sxs-lookup"><span data-stu-id="a8033-110">Scaling *up* is the action of adding more resources to a single instance.</span></span>
* <span data-ttu-id="a8033-111">När man skalar *ut* lägger man till fler instanser.</span><span class="sxs-lookup"><span data-stu-id="a8033-111">Scaling *out* is the addition of instances.</span></span>

![Skala upp och skala ut](../media-draft/scale-up-scale-out.png)

<span data-ttu-id="a8033-113">Man skalar upp när man vill lägga till fler resurser, till exempel CPU eller minne, till en enda instans.</span><span class="sxs-lookup"><span data-stu-id="a8033-113">Scaling up is concerned with adding more resources, such as CPU or memory, to a single instance.</span></span> <span data-ttu-id="a8033-114">Instansen kan vara en virtuell dator eller en PaaS-tjänst.</span><span class="sxs-lookup"><span data-stu-id="a8033-114">This instance could be a virtual machine or a PaaS service.</span></span> <span data-ttu-id="a8033-115">När mer kapacitet läggs till instansen ökas de resurser som finns tillgängliga för programmet, men det finns en begränsning.</span><span class="sxs-lookup"><span data-stu-id="a8033-115">The act of adding more capacity to the instance increases the resources available to your application, but it does come with a limit.</span></span> <span data-ttu-id="a8033-116">Virtuella datorer är begränsade till kapaciteten hos den värd de körs på, och de här värdarna har fysiska begränsningar.</span><span class="sxs-lookup"><span data-stu-id="a8033-116">Virtual machines are limited to the capacity of the host they run on, and hosts themselves have physical limitations.</span></span> <span data-ttu-id="a8033-117">När du skalar upp en instans kan du till slut stöta på de här begränsningarna, och därmed hindras du från att lägga till fler resurser till instansen.</span><span class="sxs-lookup"><span data-stu-id="a8033-117">Eventually, when you scale up an instance, you can run into these limits, restricting your ability to add further resources to the instance.</span></span>

<span data-ttu-id="a8033-118">Man skalar ut när man vill lägga till fler instanser till en tjänst.</span><span class="sxs-lookup"><span data-stu-id="a8033-118">Scaling out is concerned with adding additional instances to a service.</span></span> <span data-ttu-id="a8033-119">Dessa kan vara virtuella datorer eller PaaS-tjänster, men i stället för att lägga till mer kapacitet genom att göra en instans kraftfullare lägger vi till kapacitet genom att öka det totala antalet instanser.</span><span class="sxs-lookup"><span data-stu-id="a8033-119">These can be virtual machines or PaaS services, but instead of adding more capacity by making a single instance more powerful, we add capacity by increasing the overall total number of instances.</span></span> <span data-ttu-id="a8033-120">Fördelen med att skala ut är att det är möjligt för dig att skala ut i all oändlighet så länge som du har fler maskiner att lägga till arkitekturen.</span><span class="sxs-lookup"><span data-stu-id="a8033-120">The advantage of scaling out is that you can conceivably scale out forever if you have more machines to add to the architecture.</span></span> <span data-ttu-id="a8033-121">När man skalar ut krävs det någon form av belastningsutjämning.</span><span class="sxs-lookup"><span data-stu-id="a8033-121">Scaling out requires some type of load distribution.</span></span> <span data-ttu-id="a8033-122">Det kan uppnås med en lastbalanserare som fördelar begäranden över alla servrar eller med en tjänsteidentifieringsmetod som identifierar aktiva servrar som begäranden kan skickas till.</span><span class="sxs-lookup"><span data-stu-id="a8033-122">This could be in the form of a load balancer distributing requests across available servers, or a service discovery mechanism for identifying active servers to send requests to.</span></span>

<span data-ttu-id="a8033-123">I båda fallen kan resurser minskas, och kostnadsoptimering kommer in i bilden.</span><span class="sxs-lookup"><span data-stu-id="a8033-123">In both cases, resources can be reduced, bringing cost optimization into the picture.</span></span>

### <a name="performance-optimization"></a><span data-ttu-id="a8033-124">Prestandaoptimering</span><span class="sxs-lookup"><span data-stu-id="a8033-124">Performance optimization</span></span>

<span data-ttu-id="a8033-125">Optimera prestandan genom att titta på nätverk och lagring och kontrollera att prestandan är godtagbar.</span><span class="sxs-lookup"><span data-stu-id="a8033-125">When optimizing for performance, you'll look at network and storage to ensure performance is acceptable.</span></span> <span data-ttu-id="a8033-126">Båda kan påverka svarstiden för ditt program.</span><span class="sxs-lookup"><span data-stu-id="a8033-126">Both can impact the response time of your application.</span></span> <span data-ttu-id="a8033-127">Genom att välja den rätta nätverks- och lagringstekniken för arkitekturen säkerställer du att dina kunder får en så bra användarupplevelse som möjligt.</span><span class="sxs-lookup"><span data-stu-id="a8033-127">Selecting the right networking and storage technologies for your architecture will help you ensure you're providing the best experience for your consumers.</span></span>

<span data-ttu-id="a8033-128">I prestandaoptimering ingår även att du får en förståelse för vilken prestanda själva programmen har.</span><span class="sxs-lookup"><span data-stu-id="a8033-128">Performance optimization will also include understanding how the applications themselves are performing.</span></span> <span data-ttu-id="a8033-129">Fel, dåligt fungerande kod och flaskhalsar i beroende system kan upptäckas med ett verktyg för hantering av programprestanda.</span><span class="sxs-lookup"><span data-stu-id="a8033-129">Errors, poorly performing code, and bottlenecks in dependent systems can all be uncovered through an application performance management tool.</span></span> <span data-ttu-id="a8033-130">De här problemen kan ofta vara dolda för slutanvändare, utvecklare och administratörer, men de kan ha en negativ inverkan på programmets totala prestanda.</span><span class="sxs-lookup"><span data-stu-id="a8033-130">Often, these issues may be hidden or obfuscated for end users, developers, and administrators, but can have adverse impact on the overall performance of your application.</span></span>

## <a name="scalability-and-performance-best-practices"></a><span data-ttu-id="a8033-131">Metodtips för skalbarhet och prestanda</span><span class="sxs-lookup"><span data-stu-id="a8033-131">Scalability and performance best practices</span></span>

<span data-ttu-id="a8033-132">Se över alla lager i programmet och identifiera och åtgärda flaskhalsar för programmets prestanda.</span><span class="sxs-lookup"><span data-stu-id="a8033-132">Look across all layers of your application and identify and remediate performance bottlenecks in your application.</span></span> <span data-ttu-id="a8033-133">De här flaskhalsarna kan till exempel vara dålig minneshantering i programmet eller till och med processen för att lägga till index i databasen.</span><span class="sxs-lookup"><span data-stu-id="a8033-133">These bottlenecks could be poor memory handling in your application, or even the process of adding indexes into your database.</span></span> <span data-ttu-id="a8033-134">Det här kan vara en iterativ process då du kanske åtgärdar en flaskhals och sedan upptäcker en till som du inte vetat om.</span><span class="sxs-lookup"><span data-stu-id="a8033-134">It can be an iterative process, as you may relieve one bottleneck and then uncover another that you were unaware of.</span></span>

<span data-ttu-id="a8033-135">Du kan förbättra prestandan genom att använda cachelagring i arkitekturen.</span><span class="sxs-lookup"><span data-stu-id="a8033-135">Using caching in your architecture can help improve performance.</span></span> <span data-ttu-id="a8033-136">Cachelagring är en metod som används för att lagra data eller tillgångar (webbsidor, bilder) som används ofta för snabbare åtkomst.</span><span class="sxs-lookup"><span data-stu-id="a8033-136">Caching is a mechanism to store frequently used data or assets (web pages, images) for faster retrieval.</span></span> <span data-ttu-id="a8033-137">Cachelagring kan användas i olika lager i ditt program.</span><span class="sxs-lookup"><span data-stu-id="a8033-137">Caching can be used at different layers of your application.</span></span> <span data-ttu-id="a8033-138">Du kan använda cachelagring mellan programservrarna och en databas om du vill minska tiderna för datahämtning.</span><span class="sxs-lookup"><span data-stu-id="a8033-138">You can use caching between your application servers and a database, to decrease data retrieval times.</span></span> <span data-ttu-id="a8033-139">Du kan också använda cachelagring mellan slutanvändarna och webbservrarna. Det statiska innehållet placeras då närmare användaren och minskar tiden det tar att returnera webbsidor till slutanvändaren.</span><span class="sxs-lookup"><span data-stu-id="a8033-139">You could also use caching between your end users and your web servers, placing static content closer to the user and decreasing the time it takes to return web pages to the end user.</span></span> <span data-ttu-id="a8033-140">Det här leder dessutom till att begäranden avlastas från databasen eller webbservrarna, vilket ökar prestandan för andra begäranden.</span><span class="sxs-lookup"><span data-stu-id="a8033-140">This also has a secondary effect of offloading requests from your database or web servers, increasing the performance for other requests.</span></span>

<span data-ttu-id="a8033-141">Det är inte ovanligt att se äldre program som är byggda som ett stort program som utför flera uppgifter.</span><span class="sxs-lookup"><span data-stu-id="a8033-141">It's not uncommon to see legacy applications built as one large application to do multiple tasks.</span></span> <span data-ttu-id="a8033-142">De här arkitekturerna kan oftast bara skalas upp och kan inte skalas ut. Med sådana här arkitekturer kan du försöka modernisera ditt program och koppla tjänsterna ifrån varandra.</span><span class="sxs-lookup"><span data-stu-id="a8033-142">These architectures are often limited to only scaling up, and are incapable of scaling out. In these types of architectures, look to modernize your application and decouple services from each other.</span></span> <span data-ttu-id="a8033-143">Frånkoppling betyder att man delar ett programs huvudsakliga funktioner i flera olika program.</span><span class="sxs-lookup"><span data-stu-id="a8033-143">Decoupling is the act of breaking apart the major functions of an application into separate applications.</span></span> <span data-ttu-id="a8033-144">När de har separerats kan varje tjänst sedan skalas ut och in enligt behov, oberoende av varandra.</span><span class="sxs-lookup"><span data-stu-id="a8033-144">Once separated, each service could then be scaled-out and scaled-in as needed, independently of each other.</span></span>

<span data-ttu-id="a8033-145">Utöver frånkoppling kan prestandan också förbättras genom att lägga till ett meddelandelager mellan tjänsterna.</span><span class="sxs-lookup"><span data-stu-id="a8033-145">Along with decoupling, adding a messaging layer in between services can have a benefit to performance.</span></span> <span data-ttu-id="a8033-146">Genom att lägga till ett meddelandelager skapas en buffert för begäranden mellan tjänsterna. Då kan begäranden fortsätta rulla in utan fel fastän programmet inte hänger med.</span><span class="sxs-lookup"><span data-stu-id="a8033-146">Adding a messaging layer creates a buffer for requests between the services so that requests can continue to flow in without error if the application can’t keep up.</span></span> <span data-ttu-id="a8033-147">När programmet arbetar sig igenom begärandena svarar programmet på dem i den ordning de togs emot.</span><span class="sxs-lookup"><span data-stu-id="a8033-147">As the application works through the requests, they will be answered in the order in which they were received.</span></span>

<span data-ttu-id="a8033-148">Det finns många platser, beroende på arkitekturen, där du kan försöka optimera prestandan för ditt program.</span><span class="sxs-lookup"><span data-stu-id="a8033-148">Depending on the architecture, there's a wide array of places to look to optimize the performance of your application.</span></span> <span data-ttu-id="a8033-149">Utvärdera programmets prestanda och leta efter områden som inte presterar optimalt.</span><span class="sxs-lookup"><span data-stu-id="a8033-149">You will need to evaluate the performance of your application, and look for areas that may not be performing optimally.</span></span>
