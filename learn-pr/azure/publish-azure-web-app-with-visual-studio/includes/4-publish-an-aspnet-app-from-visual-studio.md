<span data-ttu-id="71c9d-101">Du har skapat en webbplats och vill distribuera den till Azure.</span><span class="sxs-lookup"><span data-stu-id="71c9d-101">You created a site and you want to deploy it to Azure.</span></span> <span data-ttu-id="71c9d-102">Nu behöver vi överväga vilka Azure-tjänster som bäst passar våra behov.</span><span class="sxs-lookup"><span data-stu-id="71c9d-102">Now we need to consider which Azure services to leverage to best support our needs.</span></span> <span data-ttu-id="71c9d-103">Med Web Apps får du en mycket skalbar och automatiskt uppdaterad webbvärdtjänst för dina program.</span><span class="sxs-lookup"><span data-stu-id="71c9d-103">Web Apps provides a highly scalable, self-patching web hosting service for your applications.</span></span>

<span data-ttu-id="71c9d-104">Här tittar vi på hur du använder Visual Studio för att publicera ditt ASP.NET Core-webbprogram till en Azure App Service-plan.</span><span class="sxs-lookup"><span data-stu-id="71c9d-104">Here, we look at how to use Visual Studio to publish your ASP.NET Core web application to an Azure App Service plan.</span></span>

## <a name="azure-subscription"></a><span data-ttu-id="71c9d-105">Azure-prenumeration</span><span class="sxs-lookup"><span data-stu-id="71c9d-105">Azure subscription</span></span>

<span data-ttu-id="71c9d-106">Du behöver en Azure-prenumeration för att publicera till Azure.</span><span class="sxs-lookup"><span data-stu-id="71c9d-106">To publish to Azure, you need to have an Azure subscription.</span></span> <span data-ttu-id="71c9d-107">Du kan använda en [kostnadsfri Azure-prenumeration](https://azure.microsoft.com/free/) om du vill testa Azure App Service-funktionerna.</span><span class="sxs-lookup"><span data-stu-id="71c9d-107">You can use an [Azure Free Subscription](https://azure.microsoft.com/free/) for testing the Azure App Service features.</span></span>

## <a name="what-is-web-apps"></a><span data-ttu-id="71c9d-108">Vad är Web Apps?</span><span class="sxs-lookup"><span data-stu-id="71c9d-108">What is Web Apps?</span></span>

<span data-ttu-id="71c9d-109">Funktionen Web Apps i Azure App Service är en tjänst som kan användas som värd för webbprogram, REST API:er och mobila serverdelar.</span><span class="sxs-lookup"><span data-stu-id="71c9d-109">The Web Apps feature of Azure App Service is a service for hosting web applications, REST APIs, and mobile backends.</span></span> <span data-ttu-id="71c9d-110">Web Apps är värd för kod som är skrivet i många olika språk, till exempel .NET, .NET Core, Java, Ruby, Node.js, PHP och Python.</span><span class="sxs-lookup"><span data-stu-id="71c9d-110">Web Apps host code is written in a variety of languages, such as .NET, .NET Core, Java, Ruby, Node.js, PHP, and Python.</span></span> <span data-ttu-id="71c9d-111">Web Apps är utmärkt för de flesta webbplatser, särskilt om du inte behöver stor kontroll över den värdbaserade infrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-111">Web Apps is ideal for most websites, particularly if you don't need a lot of control over the hosting infrastructure.</span></span>

## <a name="what-is-the-app-service-plan"></a><span data-ttu-id="71c9d-112">Vad är App Service-planen?</span><span class="sxs-lookup"><span data-stu-id="71c9d-112">What is the App Service plan?</span></span>

<span data-ttu-id="71c9d-113">App Service-planen definierar de beräkningsresurser som din app kommer att använda, var de resurserna finns, hur många ytterligare resurser som planen kan använda samt typen av serviceplan som används.</span><span class="sxs-lookup"><span data-stu-id="71c9d-113">The App Service plan defines the compute resources your app will consume, where those resources are located, how many additional resources the plan can consume, and the type of service plan in use.</span></span> <span data-ttu-id="71c9d-114">Dessa beräkningsresurser motsvarar servergruppen i konventionella webbvärdtjänster.</span><span class="sxs-lookup"><span data-stu-id="71c9d-114">These compute resources are analogous to the server farm in conventional web hosting.</span></span> <span data-ttu-id="71c9d-115">En eller flera appar kan konfigureras för att köras på samma App Service-plan.</span><span class="sxs-lookup"><span data-stu-id="71c9d-115">One or more apps can be configured to run on the same App Service plan.</span></span>

<span data-ttu-id="71c9d-116">När du distribuerar apparna kan du skapa en ny App Service-plan, eller så kan du fortsätta att lägga till appar i en befintlig plan.</span><span class="sxs-lookup"><span data-stu-id="71c9d-116">When you deploy your apps, you can create a new App Service plan or you can continue to add apps to an existing plan.</span></span>  <span data-ttu-id="71c9d-117">Men alla appar i samma App Service-plan delar samma beräkningsresurser.</span><span class="sxs-lookup"><span data-stu-id="71c9d-117">However, apps in the same App Service plan all share the same compute resources.</span></span> <span data-ttu-id="71c9d-118">För att avgöra om den nya appen har de resurser som krävs måste du känna till kapaciteten för den befintliga App Service-planen och den förväntade belastningen för den nya appen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-118">To determine whether the new app has the necessary resources, you need to understand the capacity of the existing App Service plan, and the expected load for the new app.</span></span> <span data-ttu-id="71c9d-119">Om en App Service-plan överbelastas kan det eventuellt medföra stilleståndstid för dina nya och befintliga appar.</span><span class="sxs-lookup"><span data-stu-id="71c9d-119">Overloading an App Service plan can potentially cause downtime for your new and existing apps.</span></span>

<span data-ttu-id="71c9d-120">Du kan definiera en App Service-plan i förväg i Azure-portalen med PowerShell eller Azure CLI, eller konfigurera en när du publicerar ditt program i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="71c9d-120">You can define an App Service plan in advance in the Azure portal with PowerShell or the Azure CLI, or set one up as you publish your application in Visual Studio.</span></span>

<span data-ttu-id="71c9d-121">Varje App Service-plan definierar:</span><span class="sxs-lookup"><span data-stu-id="71c9d-121">Each App Service plan defines:</span></span>

- <span data-ttu-id="71c9d-122">Region (USA, västra, USA, östra och så vidare)</span><span class="sxs-lookup"><span data-stu-id="71c9d-122">Region (West US, East US, and so on)</span></span>
- <span data-ttu-id="71c9d-123">Antal VM-instanser</span><span class="sxs-lookup"><span data-stu-id="71c9d-123">Number of VM instances</span></span>
- <span data-ttu-id="71c9d-124">Storleken på VM-instanser (liten, medel, stor)</span><span class="sxs-lookup"><span data-stu-id="71c9d-124">Size of VM instances (small, medium, large)</span></span>
- <span data-ttu-id="71c9d-125">Prisnivå (Kostnadsfri, Delad, Basic, Standard, Premium, Premium V2, Isolerad, Förbrukning)</span><span class="sxs-lookup"><span data-stu-id="71c9d-125">Pricing tier (Free, Shared, Basic, Standard, Premium, Premium V2, Isolated, Consumption)</span></span>

## <a name="specify-the-region"></a><span data-ttu-id="71c9d-126">Ange regionen</span><span class="sxs-lookup"><span data-stu-id="71c9d-126">Specify the region</span></span>

<span data-ttu-id="71c9d-127">När du skapar en App Service-plan måste du definiera en region eller en plats där planen kommer att finnas.</span><span class="sxs-lookup"><span data-stu-id="71c9d-127">When creating an App Service plan, you have to define a region or location where that plan will be hosted.</span></span> <span data-ttu-id="71c9d-128">Vanligtvis väljer du en region som är geografiskt nära dina förväntade kunder.</span><span class="sxs-lookup"><span data-stu-id="71c9d-128">Typically, you would choose a region geographically close to your expected customers.</span></span>

## <a name="what-are-the-pricing-and-reliability-levels"></a><span data-ttu-id="71c9d-129">Vilka är pris- och tillförlitlighetsnivåerna?</span><span class="sxs-lookup"><span data-stu-id="71c9d-129">What are the pricing and reliability levels?</span></span>

<span data-ttu-id="71c9d-130">En viktig faktor när du distribuerar appar till Azure App Service är att välja rätt serviceplan.</span><span class="sxs-lookup"><span data-stu-id="71c9d-130">A key factor when deploying apps to Azure App Service is choosing the right service plan.</span></span> <span data-ttu-id="71c9d-131">App Service-planen kan skalas upp eller ned när som helst.</span><span class="sxs-lookup"><span data-stu-id="71c9d-131">Your App Service plan can be scaled up and down at any time.</span></span> <span data-ttu-id="71c9d-132">Du kan välja en lägre prisnivå först och skala upp senare när du behöver fler App Service-funktioner.</span><span class="sxs-lookup"><span data-stu-id="71c9d-132">You can choose a lower pricing tier at first and scale up later when you need more App Service features.</span></span>

<span data-ttu-id="71c9d-133">Det finns ett antal kategorier för prisnivåer:</span><span class="sxs-lookup"><span data-stu-id="71c9d-133">There are a few categories of pricing tiers:</span></span>

<span data-ttu-id="71c9d-134">**Delad beräkning**: **Kostnadsfri** och **Delad**, de två grundläggande nivåerna, kör en app på samma virtuella Azure-dator som andra App Service-appar, inklusive appar för andra kunder.</span><span class="sxs-lookup"><span data-stu-id="71c9d-134">**Shared compute**: **Free** and **Shared**, the two base tiers, run an app on the same Azure VM as other App Service apps, including apps of other customers.</span></span> <span data-ttu-id="71c9d-135">Dessa nivåer allokerar CPU-kvoter till varje app som körs på de delade resurserna, och de resurserna kan inte skala ut.</span><span class="sxs-lookup"><span data-stu-id="71c9d-135">These tiers allocate CPU quotas to each app that runs on the shared resources, and the resources cannot scale out.</span></span>

<span data-ttu-id="71c9d-136">Planerna Kostnadsfri och Delad passar bäst för små personliga projekt med mycket begränsade trafikkrav. De har en fastställd gräns på 165 MB utgående data var 24:e timme.</span><span class="sxs-lookup"><span data-stu-id="71c9d-136">Free and Shared plans are best for small-scale personal projects with very limited traffic demands, with a set limit of 165 MB of outbound data every 24 hours.</span></span>

<span data-ttu-id="71c9d-137">**Dedikerad beräkning**: Nivåerna **Basic, Standard, Premium och Premium V2** kör appar på dedikerade virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="71c9d-137">**Dedicated compute**: The **Basic, Standard, Premium, and Premium V2** tiers run apps on dedicated Azure VMs.</span></span> <span data-ttu-id="71c9d-138">Det är bara appar i samma App Service-plan som delar samma beräkningsresurser.</span><span class="sxs-lookup"><span data-stu-id="71c9d-138">Only apps in the same App Service plan share the same compute resources.</span></span> <span data-ttu-id="71c9d-139">Ju högre nivå, desto fler VM-instanser blir tillgängliga som du kan skala ut.</span><span class="sxs-lookup"><span data-stu-id="71c9d-139">The higher the tier, the more VM instances are available to you for scale out.</span></span>

<span data-ttu-id="71c9d-140">Serviceplanen Standard är bäst lämpad för arbetsbelastningar som är liveproduktioner, då du publicerar kommersiella program till kunder.</span><span class="sxs-lookup"><span data-stu-id="71c9d-140">The Standard service plan is best suited for live production workloads, where you are publishing commercial applications to customers.</span></span>
<span data-ttu-id="71c9d-141">Premium-serviceplanerna har stöd för webbappar med hög kapacitet då du vill undvika de ytterligare kostnaderna för en dedikerad (isolerad) plan.</span><span class="sxs-lookup"><span data-stu-id="71c9d-141">The Premium service plans support high-capacity web apps where you do not want the additional costs of a dedicated (isolated) plan.</span></span>

<span data-ttu-id="71c9d-142">**Isolerad**: Den här nivån kör dedikerade virtuella Azure-datorer på dedikerade virtuella Azure-nätverk, vilket utöver beräkningsisolering även ger nätverksisolering för dina appar.</span><span class="sxs-lookup"><span data-stu-id="71c9d-142">**Isolated**: This tier runs dedicated Azure VMs on dedicated Azure virtual networks, which provide network isolation on top of compute isolation to your apps.</span></span> <span data-ttu-id="71c9d-143">Den ger maximalt med utskalningsfunktioner.</span><span class="sxs-lookup"><span data-stu-id="71c9d-143">It provides the maximum scale-out capabilities.</span></span> <span data-ttu-id="71c9d-144">Du väljer bara serviceplanen Isolerad om du har specifika krav på högsta möjliga säkerhet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="71c9d-144">You would only select an Isolated service plan when you have a specific requirement for the highest levels of security and performance.</span></span>

<span data-ttu-id="71c9d-145">Isolera din app till en ny App Service-plan när:</span><span class="sxs-lookup"><span data-stu-id="71c9d-145">Isolate your app into a new App Service plan when:</span></span>

- <span data-ttu-id="71c9d-146">Appen är resurskrävande</span><span class="sxs-lookup"><span data-stu-id="71c9d-146">The app is resource-intensive</span></span>
- <span data-ttu-id="71c9d-147">Du vill skala appen oberoende av de andra apparna i den befintliga planen</span><span class="sxs-lookup"><span data-stu-id="71c9d-147">You want to scale the app independently from the other apps in the existing plan</span></span>
- <span data-ttu-id="71c9d-148">Appen behöver resurser i en annan geografisk region</span><span class="sxs-lookup"><span data-stu-id="71c9d-148">The app needs resources in a different geographical region</span></span>

<span data-ttu-id="71c9d-149">**Förbrukning**: den här nivån är endast tillgänglig för funktionsappar.</span><span class="sxs-lookup"><span data-stu-id="71c9d-149">**Consumption**: This tier is only available to function apps.</span></span> <span data-ttu-id="71c9d-150">Den skalar funktionerna dynamiskt beroende på arbetsbelastningen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-150">It scales the functions dynamically depending on workload.</span></span> <span data-ttu-id="71c9d-151">Mer information finns i jämförelsen av Azure Functions-värdplaner.</span><span class="sxs-lookup"><span data-stu-id="71c9d-151">For more information, see the Azure Functions hosting plans comparison.</span></span>

## <a name="specify-the-resource-group"></a><span data-ttu-id="71c9d-152">Ange resursgruppen</span><span class="sxs-lookup"><span data-stu-id="71c9d-152">Specify the resource group</span></span>

<span data-ttu-id="71c9d-153">Som med de flesta Azure-resurser behöver du ange den resursgrupp som du vill använda.</span><span class="sxs-lookup"><span data-stu-id="71c9d-153">As with most Azure resources, you will need to specify the resource group you want to use.</span></span> <span data-ttu-id="71c9d-154">Du kan använda en befintlig resursgrupp eller skapa en ny direkt från Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="71c9d-154">You can use an existing resource group or create a new one directly from Visual Studio.</span></span> <span data-ttu-id="71c9d-155">En resursgrupp är en logisk container som Azure-resurser (t.ex. webbappar, databaser och lagringskonton) distribueras och hanteras i.</span><span class="sxs-lookup"><span data-stu-id="71c9d-155">A resource group is a logical container into which Azure resources like web apps, databases, and storage accounts are deployed and managed.</span></span> <span data-ttu-id="71c9d-156">Det är en användbar mekanism för att hålla associerade resurser tillsammans.</span><span class="sxs-lookup"><span data-stu-id="71c9d-156">It is a useful mechanism for keeping associated resources together.</span></span>

## <a name="deploy-your-web-app-from-visual-studio"></a><span data-ttu-id="71c9d-157">Distribuera webbappen från Visual Studio</span><span class="sxs-lookup"><span data-stu-id="71c9d-157">Deploy your web app from Visual Studio</span></span>

<span data-ttu-id="71c9d-158">Processen för att publicera appen till Azure från Visual Studio är kort.</span><span class="sxs-lookup"><span data-stu-id="71c9d-158">It's a short process to publish your app to Azure from Visual Studio.</span></span>

### <a name="select-the-project"></a><span data-ttu-id="71c9d-159">Välj projektet</span><span class="sxs-lookup"><span data-stu-id="71c9d-159">Select the project</span></span>

1. <span data-ttu-id="71c9d-160">Högerklicka på projektet i Solution Explorer.</span><span class="sxs-lookup"><span data-stu-id="71c9d-160">Right-click the project in Solution Explorer.</span></span>

1. <span data-ttu-id="71c9d-161">Välj **Publicera > Publicera till Azure**.</span><span class="sxs-lookup"><span data-stu-id="71c9d-161">Select **Publish > Publish to Azure**.</span></span>

### <a name="configure-the-app-service-plan-in-windows"></a><span data-ttu-id="71c9d-162">Konfigurera App Service-planen i Windows</span><span class="sxs-lookup"><span data-stu-id="71c9d-162">Configure the App Service plan in Windows</span></span>

1. <span data-ttu-id="71c9d-163">Konfigurera App Service-planen</span><span class="sxs-lookup"><span data-stu-id="71c9d-163">Configure the App Service plan</span></span>

    - <span data-ttu-id="71c9d-164">Värd: du konfigurerar App Service-planen på den här fliken. Den anger plats, storlek och funktioner för den webbserver som är värd för din app.</span><span class="sxs-lookup"><span data-stu-id="71c9d-164">Hosting: You will configure your App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="71c9d-165">Du kan välja en befintlig värdplan eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="71c9d-165">You can select an existing hosting plan or create a new one.</span></span> <span data-ttu-id="71c9d-166">Windows genererar automatiskt globalt unika namn som du kan ändra under konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-166">Windows will automatically generate globally unique names which you can change during setup.</span></span>
    - <span data-ttu-id="71c9d-167">Tjänster: du kan konfigurera en SQL-databas för webbplatsen här.</span><span class="sxs-lookup"><span data-stu-id="71c9d-167">Services: You can configure a SQL database for your site here.</span></span>

        > [!NOTE]
        > <span data-ttu-id="71c9d-168">Du kan ansluta och hantera en SQL-databas i Azure från Visual Studio, men det ligger utanför omfånget för den här modulen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-168">Although you can connect and manage a SQL database in Azure from Visual Studio, that is beyond the scope of this module.</span></span>

1. <span data-ttu-id="71c9d-169">Klicka på **Skapa**, så distribueras appen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-169">Click **Create** to deploy the app.</span></span> <span data-ttu-id="71c9d-170">När det är klart startar Visual Studio den webbsida som är värd för din webbplats.</span><span class="sxs-lookup"><span data-stu-id="71c9d-170">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

### <a name="configure-the-app-service-plan-for-mac"></a><span data-ttu-id="71c9d-171">Konfigurera App Service-planen för Mac</span><span class="sxs-lookup"><span data-stu-id="71c9d-171">Configure the App Service plan for Mac</span></span>

1. <span data-ttu-id="71c9d-172">Du kan välja en befintlig App Service-plan om du har en som är färdigt konfigurerad i Azure, eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="71c9d-172">You can select an existing App Service plan if you have one set up in Azure, or you can create a new one.</span></span>

1. <span data-ttu-id="71c9d-173">Konfigurera App Service-planen på den här fliken. Den anger plats, storlek och funktioner för den webbserver som är värd för din app.</span><span class="sxs-lookup"><span data-stu-id="71c9d-173">Configure your  App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="71c9d-174">Du kan välja en befintlig värdplan eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="71c9d-174">You can select an existing hosting plan or create a new one.</span></span> <span data-ttu-id="71c9d-175">Kom ihåg att Azure kräver att namnen på din webbplats och alla resurser är globalt unika.</span><span class="sxs-lookup"><span data-stu-id="71c9d-175">Remember that Azure requires the name of your website and all resources to be globally unique.</span></span>

1. <span data-ttu-id="71c9d-176">Klicka på **Skapa**, så distribueras appen.</span><span class="sxs-lookup"><span data-stu-id="71c9d-176">Click **Create** to deploy the app.</span></span> <span data-ttu-id="71c9d-177">När det är klart startar Visual Studio den webbsida som är värd för din webbplats.</span><span class="sxs-lookup"><span data-stu-id="71c9d-177">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

## <a name="summary"></a><span data-ttu-id="71c9d-178">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="71c9d-178">Summary</span></span>

<span data-ttu-id="71c9d-179">ASP.NET Core-webbprogram och Azure App Services ger en flexibel och skalbar lösning som värd för din ASP.NET-webbapp.</span><span class="sxs-lookup"><span data-stu-id="71c9d-179">ASP.NET Core web applications and Azure App Services provide a flexible, scalable solution for hosting your ASP.NET web app.</span></span> <span data-ttu-id="71c9d-180">Som med alla Azure-tjänster behöver du ange en resursgrupp och välja den prisnivå som bäst uppfyller dina behov.</span><span class="sxs-lookup"><span data-stu-id="71c9d-180">As with all Azure services, you will need to provide a resource group and select the pricing tier which best fulfills your needs.</span></span>
