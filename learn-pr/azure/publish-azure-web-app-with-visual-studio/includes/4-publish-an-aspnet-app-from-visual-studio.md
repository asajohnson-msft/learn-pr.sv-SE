<span data-ttu-id="901e6-101">Du har skapat en webbplats och vill distribuera den till Azure.</span><span class="sxs-lookup"><span data-stu-id="901e6-101">You created a site and you want to deploy it to Azure.</span></span> <span data-ttu-id="901e6-102">Nu behöver vi överväga vilka Azure-tjänster som bäst passar våra behov.</span><span class="sxs-lookup"><span data-stu-id="901e6-102">Now we need to consider which Azure services to leverage to best support our needs.</span></span> <span data-ttu-id="901e6-103">App Service är en mycket skalbar och automatiskt uppdaterad webbvärdtjänst för dina program.</span><span class="sxs-lookup"><span data-stu-id="901e6-103">App Service provides a highly scalable, self-patching web hosting service for your applications.</span></span>

<span data-ttu-id="901e6-104">Här tittar vi på hur du använder Visual Studio för att publicera din ASP.NET Core-webbapp i en Azure App Service-plan.</span><span class="sxs-lookup"><span data-stu-id="901e6-104">Here, we look at how to use Visual Studio to publish your ASP.NET Core web application to an Azure App Service plan.</span></span>

## <a name="azure-subscription"></a><span data-ttu-id="901e6-105">Azure-prenumeration</span><span class="sxs-lookup"><span data-stu-id="901e6-105">Azure subscription</span></span>

<span data-ttu-id="901e6-106">Du behöver en Azure-prenumeration för att publicera i Azure.</span><span class="sxs-lookup"><span data-stu-id="901e6-106">To publish to Azure, you need to have an Azure subscription.</span></span> <span data-ttu-id="901e6-107">Du kan använda en [kostnadsfri Azure-prenumeration](https://azure.microsoft.com/free/) för att testa Azure App Service-funktionerna.</span><span class="sxs-lookup"><span data-stu-id="901e6-107">You can use an [Azure Free Subscription](https://azure.microsoft.com/free/) for testing the Azure App Service features.</span></span>

## <a name="what-is-azure-app-service"></a><span data-ttu-id="901e6-108">Vad är Azure App Service?</span><span class="sxs-lookup"><span data-stu-id="901e6-108">What is Azure App Service?</span></span>

## <a name="what-is-web-apps"></a><span data-ttu-id="901e6-109">Vad är Web Apps?</span><span class="sxs-lookup"><span data-stu-id="901e6-109">What is Web Apps?</span></span>

<span data-ttu-id="901e6-110">Azure App Service är en tjänst som kan användas som värd för webbprogram, REST API:er och mobila serverdelar.</span><span class="sxs-lookup"><span data-stu-id="901e6-110">Azure App Service is a service for hosting web applications, REST APIs, and mobile backends.</span></span> <span data-ttu-id="901e6-111">App Service stöder kod skriven på många olika språk, som .NET, .NET Core, Java, Ruby, Node.js, PHP och Python.</span><span class="sxs-lookup"><span data-stu-id="901e6-111">App Service supports code written in a variety of languages, such as .NET, .NET Core, Java, Ruby, Node.js, PHP, and Python.</span></span> <span data-ttu-id="901e6-112">App Service lämpar sig utmärkt för de flesta webbplatser, särskilt om du inte behöver mycket kontroll över värdinfrastrukturen.</span><span class="sxs-lookup"><span data-stu-id="901e6-112">App Service is ideal for most websites, particularly if you don't need a lot of control over the hosting infrastructure.</span></span>

## <a name="what-is-the-app-service-plan"></a><span data-ttu-id="901e6-113">Vad är App Service-planen?</span><span class="sxs-lookup"><span data-stu-id="901e6-113">What is the App Service plan?</span></span>

<span data-ttu-id="901e6-114">App Service-planen definierar de beräkningsresurser som din app kommer att använda, var resurserna finns, hur många ytterligare resurser som planen kan använda samt typen av serviceplan som används.</span><span class="sxs-lookup"><span data-stu-id="901e6-114">The App Service plan defines the compute resources your app will consume, where those resources are located, how many additional resources the plan can consume, and the type of service plan in use.</span></span> <span data-ttu-id="901e6-115">Dessa beräkningsresurser motsvarar servergruppen i konventionella webbvärdtjänster.</span><span class="sxs-lookup"><span data-stu-id="901e6-115">These compute resources are analogous to the server farm in conventional web hosting.</span></span> <span data-ttu-id="901e6-116">En eller flera appar kan konfigureras för att köras inom samma App Service-plan.</span><span class="sxs-lookup"><span data-stu-id="901e6-116">One or more apps can be configured to run on the same App Service plan.</span></span>

<span data-ttu-id="901e6-117">När du distribuerar appar, kan du skapa en ny App Service-plan eller fortsätta att lägga till appar i en befintlig plan.</span><span class="sxs-lookup"><span data-stu-id="901e6-117">When you deploy your apps, you can create an App Service plan or you can continue to add apps to an existing plan.</span></span>  <span data-ttu-id="901e6-118">Appar i samma App Service-plan delar dock samma beräkningsresurser.</span><span class="sxs-lookup"><span data-stu-id="901e6-118">However, apps in the same App Service plan all share the same compute resources.</span></span> <span data-ttu-id="901e6-119">För att avgöra om den nya appen har de resurser som krävs måste du känna till kapaciteten för den befintliga App Service-planen och den förväntade belastningen för den nya appen.</span><span class="sxs-lookup"><span data-stu-id="901e6-119">To determine whether the new app has the necessary resources, you need to understand the capacity of the existing App Service plan, and the expected load for the new app.</span></span> <span data-ttu-id="901e6-120">Om en App Service-plan överbelastas kan det eventuellt medföra driftstopp för nya och befintliga appar.</span><span class="sxs-lookup"><span data-stu-id="901e6-120">Overloading an App Service plan can potentially cause downtime for your new and existing apps.</span></span>

<span data-ttu-id="901e6-121">Du kan definiera en App Service-plan i förväg i Azure Portal med PowerShell eller Azure CLI, eller så kan du konfigurera en när du publicerar ditt program i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="901e6-121">You can define an App Service plan in advance in the Azure portal with PowerShell or the Azure CLI, or set one up as you publish your application in Visual Studio.</span></span>

<span data-ttu-id="901e6-122">Varje App Service-plan definierar:</span><span class="sxs-lookup"><span data-stu-id="901e6-122">Each App Service plan defines:</span></span>

- <span data-ttu-id="901e6-123">Region (USA, västra, USA, östra och så vidare)</span><span class="sxs-lookup"><span data-stu-id="901e6-123">Region (West US, East US, and so on)</span></span>
- <span data-ttu-id="901e6-124">Antal VM-instanser</span><span class="sxs-lookup"><span data-stu-id="901e6-124">Number of VM instances</span></span>
- <span data-ttu-id="901e6-125">VM-instansernas storlek (liten, medel, stor)</span><span class="sxs-lookup"><span data-stu-id="901e6-125">Size of VM instances (small, medium, large)</span></span>
- <span data-ttu-id="901e6-126">Prisnivå (Kostnadsfri, Delad, Basic, Standard, Premium, Premium V2, Isolerad)</span><span class="sxs-lookup"><span data-stu-id="901e6-126">Pricing tier (Free, Shared, Basic, Standard, Premium, Premium V2, Isolated)</span></span>

## <a name="specify-the-region"></a><span data-ttu-id="901e6-127">Ange regionen</span><span class="sxs-lookup"><span data-stu-id="901e6-127">Specify the region</span></span>

<span data-ttu-id="901e6-128">När du skapar en App Service-plan måste du definiera en region eller en plats där planen kommer att finnas.</span><span class="sxs-lookup"><span data-stu-id="901e6-128">When creating an App Service plan, you have to define a region or location where that plan will be hosted.</span></span> <span data-ttu-id="901e6-129">Vanligtvis väljer du en region som är geografiskt nära dina förväntade kunder.</span><span class="sxs-lookup"><span data-stu-id="901e6-129">Typically, you would choose a region geographically close to your expected customers.</span></span>

## <a name="what-are-the-pricing-and-reliability-levels"></a><span data-ttu-id="901e6-130">Vilka är pris- och tillförlitlighetsnivåerna?</span><span class="sxs-lookup"><span data-stu-id="901e6-130">What are the pricing and reliability levels?</span></span>

<span data-ttu-id="901e6-131">En viktig faktor när du distribuerar appar till Azure App Service är att välja rätt serviceplan.</span><span class="sxs-lookup"><span data-stu-id="901e6-131">A key factor when deploying apps to Azure App Service is choosing the right service plan.</span></span> <span data-ttu-id="901e6-132">App Service-planen kan skalas upp eller ned när som helst.</span><span class="sxs-lookup"><span data-stu-id="901e6-132">Your App Service plan can be scaled up and down at any time.</span></span> <span data-ttu-id="901e6-133">Du kan välja en lägre prisnivå först och skala upp senare när du behöver fler App Service-funktioner.</span><span class="sxs-lookup"><span data-stu-id="901e6-133">You can choose a lower pricing tier at first and scale up later when you need more App Service features.</span></span>

<span data-ttu-id="901e6-134">Det finns ett antal olika prisnivåer:</span><span class="sxs-lookup"><span data-stu-id="901e6-134">There are a few categories of pricing tiers:</span></span>

<span data-ttu-id="901e6-135">**Delad beräkning**: på de två grundnivåerna **Kostnadsfri** och **Delad** körs appar på samma virtuella Azure-dator som andra App Service-appar, inklusive andra kunders appar.</span><span class="sxs-lookup"><span data-stu-id="901e6-135">**Shared compute**: **Free** and **Shared**, the two base tiers, run an app on the same Azure VM as other App Service apps, including apps of other customers.</span></span> <span data-ttu-id="901e6-136">Dessa nivåer allokerar CPU-kvoter till varje app som körs på de delade resurserna, och de resurserna kan inte skalas om.</span><span class="sxs-lookup"><span data-stu-id="901e6-136">These tiers allocate CPU quotas to each app that runs on the shared resources, and the resources cannot scale out.</span></span>

<span data-ttu-id="901e6-137">Planerna Kostnadsfri och Delad passar bäst för små personliga projekt med mycket begränsad trafik. De har en fast gräns på 165 MB utgående data var 24:e timme.</span><span class="sxs-lookup"><span data-stu-id="901e6-137">Free and Shared plans are best for small-scale personal projects with very limited traffic demands, with a set limit of 165 MB of outbound data every 24 hours.</span></span>

<span data-ttu-id="901e6-138">**Dedikerad beräkning**: på nivåerna **Basic, Standard, Premium och Premium V2** körs appar på dedikerade virtuella Azure-datorer.</span><span class="sxs-lookup"><span data-stu-id="901e6-138">**Dedicated compute**: The **Basic, Standard, Premium, and Premium V2** tiers run apps on dedicated Azure VMs.</span></span> <span data-ttu-id="901e6-139">Det är bara appar i samma App Service-plan som delar samma beräkningsresurser.</span><span class="sxs-lookup"><span data-stu-id="901e6-139">Only apps in the same App Service plan share the same compute resources.</span></span> <span data-ttu-id="901e6-140">Ju högre nivå, desto fler VM-instanser kan du skala ut.</span><span class="sxs-lookup"><span data-stu-id="901e6-140">The higher the tier, the more VM instances are available to you for scale out.</span></span>

<span data-ttu-id="901e6-141">Serviceplanen Standard är bäst lämpad för arbetsbelastningar som är live i produktion, där du publicerar kommersiella program till kunder.</span><span class="sxs-lookup"><span data-stu-id="901e6-141">The Standard service plan is best suited for live production workloads, where you are publishing commercial applications to customers.</span></span>
<span data-ttu-id="901e6-142">Premium-serviceplanerna stöder webbappar med hög kapacitet där du vill undvika kostnaden för en dedikerad (isolerad) plan.</span><span class="sxs-lookup"><span data-stu-id="901e6-142">The Premium service plans support high-capacity web apps where you do not want the additional costs of a dedicated (isolated) plan.</span></span>

<span data-ttu-id="901e6-143">**Isolerad**: på den här nivån körs dedikerade virtuella Azure-datorer i dedikerade virtuella Azure-nätverk, vilket utöver beräkningsisolering även ger nätverksisolering för dina appar.</span><span class="sxs-lookup"><span data-stu-id="901e6-143">**Isolated**: This tier runs dedicated Azure VMs on dedicated Azure virtual networks, which provide network isolation on top of compute isolation to your apps.</span></span> <span data-ttu-id="901e6-144">Den här nivån har flest möjligheter till utskalning.</span><span class="sxs-lookup"><span data-stu-id="901e6-144">It provides the maximum scale-out capabilities.</span></span> <span data-ttu-id="901e6-145">Du väljer bara serviceplanen Isolerad om du har mycket höga krav på säkerhet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="901e6-145">You would only select an Isolated service plan when you have a specific requirement for the highest levels of security and performance.</span></span>

<span data-ttu-id="901e6-146">Isolera din app i en ny App Service-plan när:</span><span class="sxs-lookup"><span data-stu-id="901e6-146">Isolate your app into a new App Service plan when:</span></span>

- <span data-ttu-id="901e6-147">appen är resurskrävande</span><span class="sxs-lookup"><span data-stu-id="901e6-147">The app is resource-intensive</span></span>
- <span data-ttu-id="901e6-148">du vill skala om appen oberoende av andra appar i den befintliga planen</span><span class="sxs-lookup"><span data-stu-id="901e6-148">You want to scale the app independently from the other apps in the existing plan</span></span>
- <span data-ttu-id="901e6-149">appen behöver resurser i en annan geografisk region.</span><span class="sxs-lookup"><span data-stu-id="901e6-149">The app needs resources in a different geographical region</span></span>

## <a name="specify-the-resource-group"></a><span data-ttu-id="901e6-150">Ange resursgruppen</span><span class="sxs-lookup"><span data-stu-id="901e6-150">Specify the resource group</span></span>

<span data-ttu-id="901e6-151">Som med de flesta Azure-resurser behöver du ange vilken resursgrupp du vill använda.</span><span class="sxs-lookup"><span data-stu-id="901e6-151">As with most Azure resources, you will need to specify the resource group you want to use.</span></span> <span data-ttu-id="901e6-152">Du kan använda en befintlig resursgrupp eller skapa en ny direkt i Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="901e6-152">You can use an existing resource group or create one directly from Visual Studio.</span></span> <span data-ttu-id="901e6-153">En resursgrupp är en logisk container där du distribuerar och hanterar Azure-resurser som webbappar, databaser och lagringskonton.</span><span class="sxs-lookup"><span data-stu-id="901e6-153">A resource group is a logical container into which Azure resources like web apps, databases, and storage accounts are deployed and managed.</span></span> <span data-ttu-id="901e6-154">Det är en användbar mekanism för att hålla associerade resurser tillsammans.</span><span class="sxs-lookup"><span data-stu-id="901e6-154">It is a useful mechanism for keeping associated resources together.</span></span>

## <a name="deploy-your-web-app-from-visual-studio"></a><span data-ttu-id="901e6-155">Distribuera webbappen från Visual Studio</span><span class="sxs-lookup"><span data-stu-id="901e6-155">Deploy your web app from Visual Studio</span></span>

<span data-ttu-id="901e6-156">Det går snabbt att publicera din app i Azure från Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="901e6-156">It's a short process to publish your app to Azure from Visual Studio.</span></span>

### <a name="select-the-project"></a><span data-ttu-id="901e6-157">Välj projektet</span><span class="sxs-lookup"><span data-stu-id="901e6-157">Select the project</span></span>

1. <span data-ttu-id="901e6-158">Högerklicka på projektet i Solution Explorer.</span><span class="sxs-lookup"><span data-stu-id="901e6-158">Right-click the project in Solution Explorer.</span></span>

1. <span data-ttu-id="901e6-159">Välj **Publicera > Publicera till Azure**.</span><span class="sxs-lookup"><span data-stu-id="901e6-159">Select **Publish > Publish to Azure**.</span></span>

### <a name="configure-the-app-service-plan-in-windows"></a><span data-ttu-id="901e6-160">Konfigurera App Service-planen i Windows</span><span class="sxs-lookup"><span data-stu-id="901e6-160">Configure the App Service plan in Windows</span></span>

1. <span data-ttu-id="901e6-161">Konfigurera App Service-planen</span><span class="sxs-lookup"><span data-stu-id="901e6-161">Configure the App Service plan</span></span>

    - <span data-ttu-id="901e6-162">Värd: du konfigurerar App Service-planen på den här fliken. Här anges plats, storlek och funktioner för den webbserver som är värd för din app.</span><span class="sxs-lookup"><span data-stu-id="901e6-162">Hosting: You will configure your App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="901e6-163">Du kan välja en befintlig värdplan eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="901e6-163">You can select an existing hosting plan or create one.</span></span> <span data-ttu-id="901e6-164">Windows genererar automatiskt globalt unika namn som du kan ändra under konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="901e6-164">Windows will automatically generate globally unique names which you can change during setup.</span></span>
    - <span data-ttu-id="901e6-165">Tjänster: du kan konfigurera en SQL-databas för webbplatsen här.</span><span class="sxs-lookup"><span data-stu-id="901e6-165">Services: You can configure a SQL database for your site here.</span></span>

        > [!NOTE]
        > <span data-ttu-id="901e6-166">Du kan ansluta och hantera en SQL-databas i Azure från Visual Studio, men det ligger utanför omfånget för den här modulen.</span><span class="sxs-lookup"><span data-stu-id="901e6-166">Although you can connect and manage a SQL database in Azure from Visual Studio, that is beyond the scope of this module.</span></span>

1. <span data-ttu-id="901e6-167">Klicka på **Skapa** för att distribuera appen.</span><span class="sxs-lookup"><span data-stu-id="901e6-167">Click **Create** to deploy the app.</span></span> <span data-ttu-id="901e6-168">När det är klart startar Visual Studio den webbsida som är värd för webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="901e6-168">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

### <a name="configure-the-app-service-plan-for-mac"></a><span data-ttu-id="901e6-169">Konfigurera App Service-planen för Mac</span><span class="sxs-lookup"><span data-stu-id="901e6-169">Configure the App Service plan for Mac</span></span>

1. <span data-ttu-id="901e6-170">Du kan välja en befintlig App Service-plan om du har en färdigt konfigurerad i Azure, eller så kan du skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="901e6-170">You can select an existing App Service plan if you have one set up in Azure, or you can create one.</span></span>

1. <span data-ttu-id="901e6-171">Konfigurera App Service-planen på den här fliken. Här anges plats, storlek och funktioner för den webbserver som är värd för din app.</span><span class="sxs-lookup"><span data-stu-id="901e6-171">Configure your  App Service plan in this tab. It specifies the location, size, and features of the web server that hosts your app.</span></span> <span data-ttu-id="901e6-172">Du kan välja en befintlig värdplan eller skapa en ny.</span><span class="sxs-lookup"><span data-stu-id="901e6-172">You can select an existing hosting plan or create one.</span></span> <span data-ttu-id="901e6-173">Kom ihåg att namnet på din webbplats och alla resurser måste vara globalt unika i Azure.</span><span class="sxs-lookup"><span data-stu-id="901e6-173">Remember that Azure requires the name of your website and all resources to be globally unique.</span></span>

1. <span data-ttu-id="901e6-174">Klicka på **Skapa** för att distribuera appen.</span><span class="sxs-lookup"><span data-stu-id="901e6-174">Click **Create** to deploy the app.</span></span> <span data-ttu-id="901e6-175">När det är klart startar Visual Studio den webbsida som är värd för webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="901e6-175">Once this is done, Visual Studio will launch the web page where your site is hosted.</span></span>

## <a name="summary"></a><span data-ttu-id="901e6-176">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="901e6-176">Summary</span></span>

<span data-ttu-id="901e6-177">ASP.NET Core-webbprogram och Azure App Service är en flexibel och skalbar värdlösning för dina ASP.NET-webbappar.</span><span class="sxs-lookup"><span data-stu-id="901e6-177">ASP.NET Core web applications and Azure App Service provide a flexible, scalable solution for hosting your ASP.NET web app.</span></span> <span data-ttu-id="901e6-178">Precis som med alla Azure-tjänster måste du ange en resursgrupp och välja den prisnivå som bäst passar dina behov.</span><span class="sxs-lookup"><span data-stu-id="901e6-178">As with all Azure services, you will need to provide a resource group and select the pricing tier which best fulfills your needs.</span></span>
