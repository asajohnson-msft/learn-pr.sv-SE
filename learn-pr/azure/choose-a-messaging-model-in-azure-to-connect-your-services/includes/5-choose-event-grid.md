<span data-ttu-id="9aa2b-101">Många program använder en publicera-prenumerera-modell för att meddela distribuerade komponenter om att något har hänt eller att ett objekt har ändrats.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-101">Many applications use a publish-subscribe model to notify distributed components that something happened, or that some object changed.</span></span> <span data-ttu-id="9aa2b-102">Anta att du har ett program för musikdelning med ett webb-API som körs i Azure.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-102">Suppose you have a music-sharing application with a Web API that runs in Azure.</span></span> <span data-ttu-id="9aa2b-103">När en ny låt laddas upp av en användare måste du meddela alla mobilappar som finns installerade på enheter för användare över hela världen som är intresserade av den genre som just laddats upp.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-103">When a new song is uploaded by a user, you need to notify all the mobile apps installed on user devices around the world who are interested in the genre that was just uploaded.</span></span>

<span data-ttu-id="9aa2b-104">I den här arkitekturen behöver utgivaren av ljudfilen inte känna till de prenumeranter som är intresserade av den musik som delas.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-104">In this architecture, the publisher of the sound file doesn't need to know about any of the subscribers interested in the music being shared.</span></span> <span data-ttu-id="9aa2b-105">Dessutom vill vi ha en en-till-många-relation där vi kan ha flera prenumeranter som kan välja om de är intresserade av den här nya låten.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-105">In addition, we want to have a one-to-many relationship where we can have multiple subscribers who can optionally decide whether they are interested in this new song.</span></span> <span data-ttu-id="9aa2b-106">Azure Event Grid är en perfekt lösning för den här typen av arkitektur.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-106">Azure Event Grid is a perfect solution for this sort of architecture.</span></span>

## <a name="what-is-event-grid"></a><span data-ttu-id="9aa2b-107">Vad är Event Grid?</span><span class="sxs-lookup"><span data-stu-id="9aa2b-107">What is Event Grid?</span></span>
<span data-ttu-id="9aa2b-108">Event Grid är en tjänst som distribuerar _händelser_ från olika källor, till exempel Azure Blob-lagringskonton eller Azure Media Services, till olika prenumeranter som exempelvis Azure Functions eller webhooks.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-108">Event Grid is a service that distributes _events_ from different sources, such as Azure Blob storage accounts or Azure Media Services, to different subscribers, such as Azure Functions or Webhooks.</span></span>

### <a name="what-is-an-event-source"></a><span data-ttu-id="9aa2b-109">Vad är en händelsekälla?</span><span class="sxs-lookup"><span data-stu-id="9aa2b-109">What is an event source?</span></span>
<span data-ttu-id="9aa2b-110">En händelsekälla är en komponent som kan generera en händelse (kallas ibland ”utgivare”).</span><span class="sxs-lookup"><span data-stu-id="9aa2b-110">An event source is any component that can generate an event (sometimes referred to as a "publisher").</span></span> <span data-ttu-id="9aa2b-111">Till exempel kan en användare lägga till en ny låt till ett Blob-lagringskonto via vårt Webb-API.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-111">For example, a user might add a new song to a Blob storage account through our Web API.</span></span> <span data-ttu-id="9aa2b-112">Detta genererar en händelse som Event Grid kan distribuera till intresserade händelseprenumeranter.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-112">This generates an event that Event Grid can distribute to interested event subscribers.</span></span> <span data-ttu-id="9aa2b-113">Utgivare skickar händelser men har inga förväntningar om vad som tar emot eller bearbetar dem.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-113">Publishers send events, but have no expectation of what will receive or process them.</span></span>

### <a name="what-is-an-event-subscriber"></a><span data-ttu-id="9aa2b-114">Vad är en händelseprenumerant?</span><span class="sxs-lookup"><span data-stu-id="9aa2b-114">What is an event subscriber?</span></span>
<span data-ttu-id="9aa2b-115">En händelseprenumerant är en komponent som kan ta emot händelser från Event Grid.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-115">An event subscriber is any component that can receive events from Event Grid.</span></span> <span data-ttu-id="9aa2b-116">Till exempel kan Azure Functions köra kod som svar på den nya låt som läggs till i Blob-lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-116">For example, Azure Functions can execute code in response to the new song being added to the Blob storage account.</span></span> <span data-ttu-id="9aa2b-117">Prenumeranter kan välja vilka händelser de vill hantera, så meddelar Event Grid på ett effektivt sätt alla berörda prenumeranter när en ny händelse är tillgänglig – det krävs ingen avsökning.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-117">Subscribers can decide which events they want to handle and Event Grid will efficiently notify each interested subscriber when a new event is available - no polling required.</span></span>

<span data-ttu-id="9aa2b-118">Event Grid stöder de flesta Azure-tjänster som utgivare eller prenumerant och kan även användas med tjänster från tredje part.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-118">Event Grid supports most Azure services as a publisher or subscriber and can also be used with third-party services.</span></span> <span data-ttu-id="9aa2b-119">Det tillhandahåller ett dynamiskt skalbart meddelandesystem till låg kostnad som gör att utgivare kan meddela prenumeranter om statusändringar.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-119">It provides a dynamically scalable, low-cost, messaging system that allows publishers to notify subscribers about a status change.</span></span> <span data-ttu-id="9aa2b-120">I följande bild visas hur Azure Event Grid tar emot meddelanden från flera källor och distribuerar dem till händelsehanterare baserat på prenumeration.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-120">The following illustration shows Azure Event Grid receiving messages from multiple sources and distributing them to event handlers based on subscription.</span></span>

![En bild som visar Azure Event Grid placerat mellan fler händelsekällor och flera händelsehanterare.](../media-draft/5-event-grid.png)

> [!NOTE]
> <span data-ttu-id="9aa2b-125">Event Grid skickar en händelse för att meddela prenumeranter om något som ändras – men det _faktiska objekt_ som ändrades ingår inte i händelseleveransen.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-125">Event Grid sends an event to notify subscribers about something changing - however the _actual object_ that was changed is not part of the event delivery.</span></span>

## <a name="types-of-event-sources"></a><span data-ttu-id="9aa2b-126">Typer av händelsekällor</span><span class="sxs-lookup"><span data-stu-id="9aa2b-126">Types of event sources</span></span>
<span data-ttu-id="9aa2b-127">Händelser kan genereras av följande Azure-resurstyper:</span><span class="sxs-lookup"><span data-stu-id="9aa2b-127">Events can be generated by the following Azure resource types:</span></span>

- <span data-ttu-id="9aa2b-128">**Azure-prenumerationer och resursgrupper.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-128">**Azure subscriptions and resource groups.**</span></span> <span data-ttu-id="9aa2b-129">Prenumerationer och resursgrupper genererar händelser som är relaterade till hanteringsåtgärder i Azure.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-129">Subscriptions and resource groups generate events related to management operations in Azure.</span></span> <span data-ttu-id="9aa2b-130">När en användare skapar en virtuell dator genererar exempelvis den här källan en händelse.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-130">For example, when a user creates a virtual machine, this source generates an event.</span></span>
- <span data-ttu-id="9aa2b-131">**Lagringskonton.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-131">**Storage accounts.**</span></span> <span data-ttu-id="9aa2b-132">Lagringskonton kan generera händelser när användarna lägger till blobbar, filer, tabellposter eller kömeddelanden.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-132">Storage accounts can generate events when users add blobs, files, table entries, or queue messages.</span></span> <span data-ttu-id="9aa2b-133">Du kan använda både blobbkonton och konton för generell användning som händelsekällor.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-133">You can use both blob accounts and general-purpose accounts as event sources.</span></span>
- <span data-ttu-id="9aa2b-134">**Media Services.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-134">**Media Services.**</span></span> <span data-ttu-id="9aa2b-135">Media Services är värd för video- och ljudmedia och innehåller avancerade hanteringsfunktioner för mediefiler.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-135">Media Services hosts video and audio media, and provides advanced management features for media files.</span></span> <span data-ttu-id="9aa2b-136">Media Services kan generera händelser när ett kodningsjobb startas eller slutförs i en videofil.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-136">Media Services can generate events when an encoding job is started or completed on a video file.</span></span>
- <span data-ttu-id="9aa2b-137">**Azure IoT Hub.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-137">**Azure IoT Hub.**</span></span> <span data-ttu-id="9aa2b-138">IoT Hub kommunicerar med och samlar in telemetri från IoT-enheter.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-138">IoT Hub communicates with and gathers telemetry from IoT devices.</span></span> <span data-ttu-id="9aa2b-139">Den kan generera händelser när sådan kommunikation tas emot.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-139">It can generate events whenever such communications arrive.</span></span>
- <span data-ttu-id="9aa2b-140">**Anpassade händelser.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-140">**Custom events.**</span></span> <span data-ttu-id="9aa2b-141">Anpassade händelser kan genereras med hjälp av REST API eller med Azure SDK för Java, GO, .NET, Node, Python och Ruby.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-141">Custom events can be generated using the REST API, or with the Azure SDK on Java, GO, .NET, Node, Python, and Ruby.</span></span> <span data-ttu-id="9aa2b-142">Du kan till exempel skapa en anpassad händelse i Web Apps-funktionen i Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-142">For example, you could create a custom event in the Web Apps feature of Azure App Service.</span></span> <span data-ttu-id="9aa2b-143">Detta kan inträffa i arbetsrollen när den tar emot ett meddelande från en lagringskö.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-143">This can happen in the worker role, when it picks up a message from a storage queue.</span></span>

<span data-ttu-id="9aa2b-144">Den här omfattande integreringen med olika händelsekällor inom Azure säkerställer att Event Grid kan distribuera händelser som är relaterade till nästan vilken Azure-resurs som helst.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-144">This broad integration with diverse event sources within Azure ensures that Event Grid can distribute events that relate to almost any Azure resource.</span></span>

## <a name="topics"></a><span data-ttu-id="9aa2b-145">Ämnen</span><span class="sxs-lookup"><span data-stu-id="9aa2b-145">Topics</span></span>
<span data-ttu-id="9aa2b-146">I Event Grid består ett ämne av en samling med relaterade händelser.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-146">In Event Grid, a topic is a collection of related events.</span></span> <span data-ttu-id="9aa2b-147">När du publicerar händelser från en källa väljer du om dessa händelser bara behöver ett enda ämne eller om de ska delas upp i flera ämnen.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-147">When you publish events from a source, you decide whether those events need only a single topic or to be divided into multiple topics.</span></span> <span data-ttu-id="9aa2b-148">Komponenter som tar emot och hanterar händelser prenumererar på ämnen för att avgöra vilka händelser de ska ta emot.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-148">Components that receive and handle events subscribe to topics to determine the events they will receive.</span></span>

## <a name="subscriptions"></a><span data-ttu-id="9aa2b-149">Prenumerationer</span><span class="sxs-lookup"><span data-stu-id="9aa2b-149">Subscriptions</span></span>
<span data-ttu-id="9aa2b-150">Händelsehanterare använder prenumerationer för att informera Event Grid om vilka händelser i ett ämne de ska ta emot.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-150">Event handlers use subscriptions to tell Event Grid which events in a topic they want to receive.</span></span> <span data-ttu-id="9aa2b-151">Prenumerationen bestämmer även slutpunkten – vilket är den plats som Event Grid skickar händelsemeddelanden till.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-151">The subscription also fixes the endpoint - this is the location that Event Grid sends event notifications.</span></span> <span data-ttu-id="9aa2b-152">En prenumeration kan även filtrera händelserna efter typ eller ämne så att du kan vara säker på att en händelsehanterare endast tar emot relevanta händelser.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-152">A subscription can also filter events by their type or by their subject, so you can ensure an event handler only receives relevant events.</span></span>

## <a name="event-handlers"></a><span data-ttu-id="9aa2b-153">Händelsehanterare</span><span class="sxs-lookup"><span data-stu-id="9aa2b-153">Event handlers</span></span>
<span data-ttu-id="9aa2b-154">Följande objekttyper i Azure kan ta emot och hantera händelser från Event Grid:</span><span class="sxs-lookup"><span data-stu-id="9aa2b-154">The following object types in Azure can receive and handle events from Event Grid:</span></span>

- <span data-ttu-id="9aa2b-155">**Azure Functions.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-155">**Azure Functions.**</span></span> <span data-ttu-id="9aa2b-156">En Azure-funktion består av anpassad kod som körs i Azure utan någon virtuell värdserver eller container.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-156">An Azure function consists of custom code that runs in Azure, with no host virtual server or container.</span></span> <span data-ttu-id="9aa2b-157">Använd en Azure-funktion som en händelsehanterare när du vill koda ett anpassat svar på händelsen.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-157">Use an Azure function as an event handler when you want to code a custom response to the event.</span></span>
- <span data-ttu-id="9aa2b-158">**Webhooks.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-158">**Webhooks.**</span></span> <span data-ttu-id="9aa2b-159">En webhook är ett webb-API som implementerar en push-arkitektur.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-159">A webhook is web API that implements a push architecture.</span></span>
- <span data-ttu-id="9aa2b-160">**Azure Logic Apps.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-160">**Azure Logic Apps.**</span></span> <span data-ttu-id="9aa2b-161">En Azure-logikapp är värd för en affärsprocess som ett arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-161">An Azure logic app hosts a business process as a workflow.</span></span>
- <span data-ttu-id="9aa2b-162">**Microsoft Flow.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-162">**Microsoft Flow.**</span></span> <span data-ttu-id="9aa2b-163">Flow är också värd för arbetsflöden men är enklare för icke-teknisk personal att använda.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-163">Flow also hosts workflows, but it is easier for non-technical staff to use.</span></span>

## <a name="should-you-use-event-grid"></a><span data-ttu-id="9aa2b-164">Bör du använda Event Grid?</span><span class="sxs-lookup"><span data-stu-id="9aa2b-164">Should you use Event Grid?</span></span>
<span data-ttu-id="9aa2b-165">Använd Event Grid när du behöver dessa funktioner:</span><span class="sxs-lookup"><span data-stu-id="9aa2b-165">Use Event Grid when you need these features:</span></span>

- <span data-ttu-id="9aa2b-166">**Enkelhet.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-166">**Simplicity.**</span></span> <span data-ttu-id="9aa2b-167">Det är mycket enkelt att ansluta källor till prenumeranter i Event Grid.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-167">It is very easy to connect sources to subscribers in Event Grid.</span></span>
- <span data-ttu-id="9aa2b-168">**Avancerad filtrering.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-168">**Advanced filtering.**</span></span> <span data-ttu-id="9aa2b-169">Prenumerationer har noggrann kontroll över de händelser som de tar emot från ett ämne.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-169">Subscriptions have close control over the events they receive from a topic.</span></span>
- <span data-ttu-id="9aa2b-170">**Förgrening.** Du kan prenumerera på ett obegränsat antal slutpunkter till samma händelser och ämnen.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-170">**Fan-out.** You can subscribe an unlimited number of endpoints to the same events and topics.</span></span>
- <span data-ttu-id="9aa2b-171">**Tillförlitlighet.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-171">**Reliability.**</span></span> <span data-ttu-id="9aa2b-172">Event Grid försöker upprepat leverera händelser i upp till 24 timmar för varje prenumeration.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-172">Event Grid retries event delivery for up to 24 hours for each subscription.</span></span>
- <span data-ttu-id="9aa2b-173">**Betala per händelse.**</span><span class="sxs-lookup"><span data-stu-id="9aa2b-173">**Pay-per-event.**</span></span> <span data-ttu-id="9aa2b-174">Betala endast för det antal händelser som du överför.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-174">Pay only for the number of events that you transmit.</span></span>

## <a name="summary"></a><span data-ttu-id="9aa2b-175">Sammanfattning</span><span class="sxs-lookup"><span data-stu-id="9aa2b-175">Summary</span></span>
<span data-ttu-id="9aa2b-176">Event Grid är ett enkelt och mångsidigt distributionssystem för händelser.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-176">Event Grid is a simple but versatile event distribution system.</span></span> <span data-ttu-id="9aa2b-177">Du kan använda det till att leverera distinkta händelser till prenumeranter, som får händelserna på ett pålitligt och snabbt sätt.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-177">Use it to deliver discrete events to subscribers, which will receive those events reliably and quickly.</span></span> <span data-ttu-id="9aa2b-178">Vi har ytterligare en meddelandemodell att titta på – hur gör vi om vi vill leverera en stor _ström_ med händelser?</span><span class="sxs-lookup"><span data-stu-id="9aa2b-178">We have one more messaging model to examine - what if we want to deliver a large _stream_ of events?</span></span> <span data-ttu-id="9aa2b-179">I det här scenariot är Event Grid inte den ideala lösningen eftersom den är utformad för leverans av en händelse i taget.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-179">In this scenario, Event Grid isn't a great solution because it's designed for one-event-at-a-time delivery.</span></span> <span data-ttu-id="9aa2b-180">I stället vänder vi oss till en annan Azure-tjänst: Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="9aa2b-180">Instead, we need to turn to another Azure service: Event Hubs.</span></span>