<span data-ttu-id="a248d-101">Du har upptäckt att trafiktoppar kan överbelasta mellannivån.</span><span class="sxs-lookup"><span data-stu-id="a248d-101">You've discovered that spikes in traffic can overwhelm our middle-tier.</span></span> <span data-ttu-id="a248d-102">För att hantera detta har du bestämt dig för att lägga till en kö mellan klientdelen och mellannivån i ditt program för artikeluppladdning.</span><span class="sxs-lookup"><span data-stu-id="a248d-102">To deal with this, you've decided to add a queue between the front-end and the middle tier in your article-upload application.</span></span>

<span data-ttu-id="a248d-103">Det första steget när du skapar en kö är att skapa ett Azure Storage-konto som ska lagra våra data.</span><span class="sxs-lookup"><span data-stu-id="a248d-103">The first step in creating a queue is to create the Azure Storage Account that will store our data.</span></span>

## <a name="create-a-storage-account-with-the-azure-cli"></a><span data-ttu-id="a248d-104">Skapa ett lagringskonto med Azure CLI</span><span class="sxs-lookup"><span data-stu-id="a248d-104">Create a Storage Account with the Azure CLI</span></span>

<span data-ttu-id="a248d-105">Vi börjar med att skapa en Azure-resursgrupp för lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="a248d-105">To start with, let's create an Azure Resource Group to hold our storage account.</span></span>

1. <span data-ttu-id="a248d-106">Välj Bash i Cloud Shell till höger om du tillfrågas.</span><span class="sxs-lookup"><span data-stu-id="a248d-106">In the Cloud shell on the right, select Bash if you are given a choice.</span></span>

1. <span data-ttu-id="a248d-107">Använd Azure CLI-kommandot `az group create` till att skapa en ny resursgrupp.</span><span class="sxs-lookup"><span data-stu-id="a248d-107">Use the `az group create` Azure CLI command to create a new resource group.</span></span> <span data-ttu-id="a248d-108">Ge den namnet **ExerciseResources** och lägg den på en plats nära dig.</span><span class="sxs-lookup"><span data-stu-id="a248d-108">Give it the name **ExerciseResources** and place it into a location near you.</span></span> 
    - <span data-ttu-id="a248d-109">I exemplet nedan används ”eastus” som plats.</span><span class="sxs-lookup"><span data-stu-id="a248d-109">The example below uses "eastus" as the location.</span></span>

    ```azurecli
    az group create -n ExerciseResources --location eastus
    ```
        
1. <span data-ttu-id="a248d-110">Kör sedan kommandot `az storage account create`för att skapa det faktiska lagringskontot.</span><span class="sxs-lookup"><span data-stu-id="a248d-110">Next, use the `az storage account create` command to create the actual Storage Account.</span></span> <span data-ttu-id="a248d-111">Du behöver ange flera parametrar:</span><span class="sxs-lookup"><span data-stu-id="a248d-111">You'll need to supply several parameters:</span></span>

| <span data-ttu-id="a248d-112">Parameter</span><span class="sxs-lookup"><span data-stu-id="a248d-112">Parameter</span></span> | <span data-ttu-id="a248d-113">Värde</span><span class="sxs-lookup"><span data-stu-id="a248d-113">Value</span></span> |
|-----------|-------|
| `--name`  | <span data-ttu-id="a248d-114">Ställer in namnet.</span><span class="sxs-lookup"><span data-stu-id="a248d-114">Sets the name.</span></span> <span data-ttu-id="a248d-115">Kom ihåg att lagringskonton använder namnet till att generera en offentlig URL, så det måste vara unikt.</span><span class="sxs-lookup"><span data-stu-id="a248d-115">Remember that storage accounts use the name to generate a public URL - so it has to be unique.</span></span> <span data-ttu-id="a248d-116">Namnet på lagringskontot måste dessutom vara mellan 3 och 24 tecken långt och får endast innehålla siffror och gemener.</span><span class="sxs-lookup"><span data-stu-id="a248d-116">In addition, the account name must be between 3 and 24 characters, and be composed of numbers and lowercase letters only.</span></span> <span data-ttu-id="a248d-117">Vi rekommenderar att du använder prefixet **articles** med ett slumptal som suffix, men du kan använda vad du vill.</span><span class="sxs-lookup"><span data-stu-id="a248d-117">We recommend you use the prefix **articles** with a random number suffix but you can use whatever you like.</span></span> |
| `-g`        | <span data-ttu-id="a248d-118">Tillhandahåller resursgruppen, använd **ExerciseResources** som värde.</span><span class="sxs-lookup"><span data-stu-id="a248d-118">Supplies the Resource Group, use **ExerciseResources** as the value.</span></span> |
| `--kind`    | <span data-ttu-id="a248d-119">Anger typen av lagringskonto – använd **StorageV2** för att skapa ett allmänt V2-konto.</span><span class="sxs-lookup"><span data-stu-id="a248d-119">Sets the Storage Account type - use **StorageV2** to create a general-purpose V2 account.</span></span> |
| `-l`        | <span data-ttu-id="a248d-120">Anger platsen oberoende av resursgruppens ägare.</span><span class="sxs-lookup"><span data-stu-id="a248d-120">Sets the location independent of the Resource Group owner.</span></span> <span data-ttu-id="a248d-121">Det här är valfritt, men du kan använda det om du vill placera i kön i en annan region än resursgruppen.</span><span class="sxs-lookup"><span data-stu-id="a248d-121">It's optional, but you can use it to place the queue in a different region than the Resource Group.</span></span> |
| `--sku`     | <span data-ttu-id="a248d-122">Anger kontotypen, standardvärdet är **Standard_RAGRS** vilket är mer än vad som behövs för den här demonstrationen.</span><span class="sxs-lookup"><span data-stu-id="a248d-122">Sets the account type, it defaults to **Standard_RAGRS**, which is overkill for this demonstration.</span></span> <span data-ttu-id="a248d-123">Vi använder **Standard_LRS**, vilket innebär att kontot bara är lokalt redundant i datacentret.</span><span class="sxs-lookup"><span data-stu-id="a248d-123">Let's use **Standard_LRS** which means it's only locally redundant within the data center.</span></span> |

<span data-ttu-id="a248d-124">Här är ett kommandoradsexempel med ovanstående parametrar.</span><span class="sxs-lookup"><span data-stu-id="a248d-124">Here's an example command line that uses the above parameters.</span></span> <span data-ttu-id="a248d-125">Se till att du ändrar parametern `--name` till något unikt om du kopierar och klistrar in det här kommandot.</span><span class="sxs-lookup"><span data-stu-id="a248d-125">Make sure to change the `--name` parameter to be something unique if you decide to copy/paste this command.</span></span>

```azurecli
az storage account create --name <name> -g ExerciseResources --kind StorageV2 -l eastus --sku Standard_LRS
```