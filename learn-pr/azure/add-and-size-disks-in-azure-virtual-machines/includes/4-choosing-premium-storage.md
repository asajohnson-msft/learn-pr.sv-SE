<span data-ttu-id="57bf3-101">Vissa program har större krav på datalagring än andra.</span><span class="sxs-lookup"><span data-stu-id="57bf3-101">Some applications place greater demands on data storage than others.</span></span> <span data-ttu-id="57bf3-102">Microsoft Exchange-servrar och SharePoint-servrar måste till exempel ha högpresterande diskar för att kunna köras på ett optimalt sätt.</span><span class="sxs-lookup"><span data-stu-id="57bf3-102">For example, Microsoft Exchange servers and SharePoint servers need high-performance disks to run at their best.</span></span>

<span data-ttu-id="57bf3-103">Nu ska vi gå tillbaka till scenariot för att migrera databasen med fallhistorik för din advokatbyrå till Azure.</span><span class="sxs-lookup"><span data-stu-id="57bf3-103">Let's revisit the scenario of migrating the case histories database for your law firm into Azure.</span></span> <span data-ttu-id="57bf3-104">Du vill se till att dina advokater och andra anställda kan komma åt informationen så snabbt som möjligt.</span><span class="sxs-lookup"><span data-stu-id="57bf3-104">You want to make sure that your lawyers and other staff can access case details as fast as possible.</span></span> <span data-ttu-id="57bf3-105">Företaget växer och du vill att din databas ska kunna hantera en ökad efterfrågan.</span><span class="sxs-lookup"><span data-stu-id="57bf3-105">The firm is growing,  and you want your database to handle increased demand.</span></span>

<span data-ttu-id="57bf3-106">Ett sätt som du kan maximera prestandan för virtuella datorer på i Azure, är att använda Premium Storage för virtuella hårddiskar (VHD).</span><span class="sxs-lookup"><span data-stu-id="57bf3-106">One way you can  maximize the performance of virtual machines (VMs) in Azure is to use premium storage for virtual hard drives (VHDs).</span></span> <span data-ttu-id="57bf3-107">Premium Storage ger snabbare indata och utdata (I/O) än Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="57bf3-107">Premium storage delivers faster input and output (IO) than standard storage.</span></span> <span data-ttu-id="57bf3-108">Snabbare disk-I/O ger bättre prestanda för hårddiskintensiva program.</span><span class="sxs-lookup"><span data-stu-id="57bf3-108">Faster disk IO results in better performance for disk-intensive applications.</span></span>

<span data-ttu-id="57bf3-109">Vi ska jämföra prestandanivåerna för lagring och lära oss mer om Premium Storage-konton.</span><span class="sxs-lookup"><span data-stu-id="57bf3-109">Let's compare the performance tiers for storage and learn more about premium storage accounts.</span></span>

## <a name="how-premium-storage-differs-from-standard-storage"></a><span data-ttu-id="57bf3-110">Hur skiljer sig Premium Storage från Standard Storage?</span><span class="sxs-lookup"><span data-stu-id="57bf3-110">How premium storage differs from standard storage</span></span>

<span data-ttu-id="57bf3-111">I Azure implementeras Premium Storage på solid state-hårddiskar (SSD).</span><span class="sxs-lookup"><span data-stu-id="57bf3-111">In Azure, premium storage is implemented on solid-state drives (SSDs).</span></span> <span data-ttu-id="57bf3-112">SSD:er har högre I/O-prestanda än hårddiskar (HDD:er) och kan vara mer tillförlitliga eftersom de inte har några rörliga delar.</span><span class="sxs-lookup"><span data-stu-id="57bf3-112">SSDs have higher IO performance than hard disk drives (HDDs) and can be more reliable because they have no moving parts.</span></span> <span data-ttu-id="57bf3-113">Ett läs- eller skrivhuvud behöver inte flyttas till rätt plats på en disk för att kunna hitta de data som efterfrågas.</span><span class="sxs-lookup"><span data-stu-id="57bf3-113">A read or write head doesn't have to move to the correct location on a disk to find the data requested.</span></span> 

<span data-ttu-id="57bf3-114">Standard Storage implementeras på HDD:er.</span><span class="sxs-lookup"><span data-stu-id="57bf3-114">Standard storage is implemented on HDDs.</span></span> <span data-ttu-id="57bf3-115">Standard Storage kostar mindre.</span><span class="sxs-lookup"><span data-stu-id="57bf3-115">Standard storage a billed at a lower rate.</span></span> <span data-ttu-id="57bf3-116">Välj Standard Storage för att styra kostnader och välj Premium Storage när snabb I/O-prestanda krävs.</span><span class="sxs-lookup"><span data-stu-id="57bf3-116">Choose standard storage to control costs, and choose premium storage when fast IO performance is required.</span></span>

<span data-ttu-id="57bf3-117">Du kan också välja att använda en blandning av Standard Storage och Premium Storage per disk på en enskild virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="57bf3-117">You can also choose to use a mix of standard and premium storage per disk in a single VM.</span></span>

> [!NOTE]
> <span data-ttu-id="57bf3-118">Om du använder hanterade diskar har du ett tredje alternativ: Standard SSD:er.</span><span class="sxs-lookup"><span data-stu-id="57bf3-118">If you're using managed disks, you have a third option: standard SSDs.</span></span> <span data-ttu-id="57bf3-119">Standard SSD:er ligger mittemellan Standard HDD:er och Premium SSD:er i både prestanda och pris, men de går inte att använda på ohanterade diskar.</span><span class="sxs-lookup"><span data-stu-id="57bf3-119">Standard SSDs are intermediate in both performance and price between standard HDDs and premium SSDs but are not available for unmanaged disks.</span></span> <span data-ttu-id="57bf3-120">Du kommer lära dig mer om Standard SSD:er senare i den här modulen.</span><span class="sxs-lookup"><span data-stu-id="57bf3-120">You will learn more about standard SSDs later in this module.</span></span>

## <a name="premium-storage-accounts"></a><span data-ttu-id="57bf3-121">Premium Storage-konton</span><span class="sxs-lookup"><span data-stu-id="57bf3-121">Premium storage accounts</span></span>

<span data-ttu-id="57bf3-122">I Azure lagras virtuella hårddiskar på ett Azure-lagringskonto för generell användning som sidblobbar.</span><span class="sxs-lookup"><span data-stu-id="57bf3-122">VHDs are stored in Azure general-purpose storage accounts as page blobs.</span></span> <span data-ttu-id="57bf3-123">Om du vill använda Premium Storage för dina VHD:er måste du lagra dem på ett **Premium Storage-konto**.</span><span class="sxs-lookup"><span data-stu-id="57bf3-123">To use premium storage for your VHDs, you must store VHDs in a **premium storage account**.</span></span> <span data-ttu-id="57bf3-124">Du väljer prestandanivån för ett lagringskonto när du skapar det och du kan inte ändra den här inställningen senare.</span><span class="sxs-lookup"><span data-stu-id="57bf3-124">You choose the performance tier of a storage account when you create it, and you cannot change this setting later.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="57bf3-125">Premium Storage kanske inte finns tillgängligt i alla Azure-regioner.</span><span class="sxs-lookup"><span data-stu-id="57bf3-125">Premium storage may not be available in all Azure regions.</span></span> <span data-ttu-id="57bf3-126">Du kan kontrollera tillgängligheten för din region i [Produkttillgänglighet per region](https://azure.microsoft.com/en-us/global-infrastructure/services/).</span><span class="sxs-lookup"><span data-stu-id="57bf3-126">To check the availability in your region, see [Products available by region](https://azure.microsoft.com/en-us/global-infrastructure/services/).</span></span>

### <a name="data-replication-and-premium-storage-accounts"></a><span data-ttu-id="57bf3-127">Datareplikering och Premium Storage-konton</span><span class="sxs-lookup"><span data-stu-id="57bf3-127">Data replication and premium storage accounts</span></span>

<span data-ttu-id="57bf3-128">Datan på ditt Microsoft Azure-lagringskonto replikeras alltid för att säkerställa hållbarhet och hög tillgänglighet.</span><span class="sxs-lookup"><span data-stu-id="57bf3-128">The data in your Microsoft Azure storage account is always replicated to ensure durability and high availability.</span></span> <span data-ttu-id="57bf3-129">Azure Storage-replikering kopierar dina data så att de är skyddade mot planerade och oplanerade händelser som tillfälliga maskinvarufel, elavbrott, naturkatastrofer och så vidare.</span><span class="sxs-lookup"><span data-stu-id="57bf3-129">Azure Storage replication copies your data so that it's protected from planned and unplanned events like transient hardware failures, network or power outages, massive natural disasters, and so on.</span></span> <span data-ttu-id="57bf3-130">Du kan välja att replikera dina data inom samma datacenter, över zonindelade datacentra inom samma region, och till och med i olika regioner.</span><span class="sxs-lookup"><span data-stu-id="57bf3-130">You can choose to replicate your data within the same data center, across zonal data centers within the same region, and even across regions.</span></span> <span data-ttu-id="57bf3-131">Det finns fyra typer av replikering:</span><span class="sxs-lookup"><span data-stu-id="57bf3-131">There are four types of replication:</span></span>

- <span data-ttu-id="57bf3-132">**Lokalt redundant lagring (LRS)** – Azure replikerar datan inom samma Azure-datacenter.</span><span class="sxs-lookup"><span data-stu-id="57bf3-132">**Locally redundant storage (LRS)** - Azure replicates the data within the same Azure data center.</span></span> <span data-ttu-id="57bf3-133">Datan förblir tillgänglig om en nod slutar att fungera.</span><span class="sxs-lookup"><span data-stu-id="57bf3-133">The data remains available if a node fails.</span></span> <span data-ttu-id="57bf3-134">Men om hela datacentret slutar att fungera, kanske datan inte är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="57bf3-134">However, if an entire data center fails, data may be unavailable.</span></span>
- <span data-ttu-id="57bf3-135">**Geo-redundant lagring (GRS)** – Azure replikerar datan till en sekundär region som ligger hundratals kilometer från den primära regionen.</span><span class="sxs-lookup"><span data-stu-id="57bf3-135">**Geo-redundant storage (GRS)** - Azure replicates your data to a secondary region that is hundreds of miles away from the primary region.</span></span> <span data-ttu-id="57bf3-136">Om ditt lagringskonto har GRS aktiverat, är dina data beständiga även om det sker ett fullständig regionalt strömavbrott eller en katastrof där den primära regionen inte återställas.</span><span class="sxs-lookup"><span data-stu-id="57bf3-136">If your storage account has GRS enabled, then your data is durable even if there's a complete regional outage or a disaster in which the primary region isn't recoverable.</span></span>
- <span data-ttu-id="57bf3-137">**Geo-redundant lagring med läsåtkomst (RA-GRS)** – Azure tillhandahåller skrivskyddad åtkomst till data på den sekundära platsen och geo-replikering mellan två regioner.</span><span class="sxs-lookup"><span data-stu-id="57bf3-137">**Read-access geo-redundant storage (RA-GRS)** - Azure provides read-only access to the data in the secondary location, and geo-replication across two regions.</span></span> <span data-ttu-id="57bf3-138">Om ett datacenter slutar att fungera förblir datan läsbar, men den kan inte ändras.</span><span class="sxs-lookup"><span data-stu-id="57bf3-138">If a data center fails, the data remains readable but can't be modified.</span></span>
- <span data-ttu-id="57bf3-139">**Zonredundant lagring (ZRS)** – Azure replikerar dina data synkront över tre lagringskluster i en enda region.</span><span class="sxs-lookup"><span data-stu-id="57bf3-139">**Zone-redundant storage (ZRS)** - Azure replicates your data synchronously across three storage clusters in a single region.</span></span> <span data-ttu-id="57bf3-140">Varje lagringskluster är fysiskt avgränsat från de andra och ligger i sin egen tillgänglighetszon (AZ).</span><span class="sxs-lookup"><span data-stu-id="57bf3-140">Each storage cluster is physically separated from the others and resides in its own availability zone (AZ).</span></span> <span data-ttu-id="57bf3-141">Med den här typen av replikering har du fortfarande åtkomst till och kan hantera dina data även om en zon blir otillgänglig.</span><span class="sxs-lookup"><span data-stu-id="57bf3-141">With this type of replication, you can still access and manage your data in the event that a zone becomes unavailable.</span></span>

<span data-ttu-id="57bf3-142">Standard Storage-konton stöder alla typer av replikering, men Premium Storage-konton har endast stöd för lokalt redundant lagring (LRS).</span><span class="sxs-lookup"><span data-stu-id="57bf3-142">Standard storage accounts support all replication types, but premium storage accounts only support locally redundant storage (LRS).</span></span> <span data-ttu-id="57bf3-143">Eftersom de virtuella datorerna körs i en enda region, är den här begränsningen normalt inte något problem vid VHD-lagring.</span><span class="sxs-lookup"><span data-stu-id="57bf3-143">Since VMs themselves run in a single region, this restriction isn't normally an issue for VHD storage.</span></span>

## <a name="migrating-from-standard-storage-to-premium-storage"></a><span data-ttu-id="57bf3-144">Migrera från Standard Storage till Premium Storage</span><span class="sxs-lookup"><span data-stu-id="57bf3-144">Migrating from standard storage to premium storage</span></span>

<span data-ttu-id="57bf3-145">Det är bäst att skapa virtuella hårddiskar i rätt typ av lagringskonto direkt.</span><span class="sxs-lookup"><span data-stu-id="57bf3-145">It's best to create VHDs in the correct type of storage account in the first place.</span></span> <span data-ttu-id="57bf3-146">Men kraven förändras ibland, efterfrågan ökar eller du upptäcker att du har valt fel typ.</span><span class="sxs-lookup"><span data-stu-id="57bf3-146">However, sometimes requirements change, demands increase, or you realize that you chose the wrong type.</span></span> <span data-ttu-id="57bf3-147">Överväg att flytta till Premium Storage i sådana situationer.</span><span class="sxs-lookup"><span data-stu-id="57bf3-147">Consider a move to premium storage in these situations.</span></span>

<span data-ttu-id="57bf3-148">Innan du påbörjar en migrering bör du fundera på om det kommer att medföra något driftstopp när den virtuella datorn inte är tillgänglig för användarna.</span><span class="sxs-lookup"><span data-stu-id="57bf3-148">Before starting a migration, consider that it will involve some downtime during which the VM will be unavailable to users.</span></span>

> [!NOTE]
> <span data-ttu-id="57bf3-149">Fullständig information om migrering från Standard till Premium Storage finns i [Migrera till Azure Premium Storage (ohanterade diskar)](https://docs.microsoft.com/azure/storage/common/storage-migration-to-premium-storage).</span><span class="sxs-lookup"><span data-stu-id="57bf3-149">For full details of the migration from standard to premium storage, see [Migrating to Azure Premium Storage (Unmanaged Disks)](https://docs.microsoft.com/azure/storage/common/storage-migration-to-premium-storage).</span></span>

<span data-ttu-id="57bf3-150">När du skapar en virtuell dator i Azure måste du hitta rätt balans mellan pris och prestanda.</span><span class="sxs-lookup"><span data-stu-id="57bf3-150">When you create a VM in Azure, you need to find the right balance between cost and performance.</span></span> <span data-ttu-id="57bf3-151">Premium Storage är ett bra val för hårddiskintensiva program som databaser, eftersom den har stöd för snabbare I/O än Standard Storage.</span><span class="sxs-lookup"><span data-stu-id="57bf3-151">Premium storage is a good choice for disk-intensive applications such as databases because it supports faster IO than standard storage.</span></span>
