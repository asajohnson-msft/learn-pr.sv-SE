<span data-ttu-id="bffce-101">Ett tjänstföretags framgång är ofta direkt relaterad till det serviceavtal företaget har med sina kunder.</span><span class="sxs-lookup"><span data-stu-id="bffce-101">Often, the success of a services company is directly related to the service level agreements (SLA) the company has with its customers.</span></span> <span data-ttu-id="bffce-102">Kunderna förväntar sig att de tjänster du tillhandahåller alltid är tillgängliga och att deras data alltid är skyddade.</span><span class="sxs-lookup"><span data-stu-id="bffce-102">Your customers expect the services you provide always to be available and their data kept safe.</span></span> <span data-ttu-id="bffce-103">Det här är något som Microsoft tar på stort allvar.</span><span class="sxs-lookup"><span data-stu-id="bffce-103">This is something that Microsoft takes very seriously.</span></span> <span data-ttu-id="bffce-104">Azure innehåller verktyg som du kan använda för att hantera tillgänglighet, datasäkerhet och övervakning, så att du vet att dina tjänster alltid är tillgängliga för dina kunder.</span><span class="sxs-lookup"><span data-stu-id="bffce-104">Azure provides tools you can use to manage availability, data security, and monitoring, so you know your services are always available for your customers.</span></span>

<span data-ttu-id="bffce-105">Administrationen av en Azure-dator är inte begränsad till att hantera operativsystem eller programvara som körs på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="bffce-105">Administration of an Azure VM is not limited to managing the operating system or software that runs on the VM.</span></span> <span data-ttu-id="bffce-106">Det hjälper att känna till vilka tjänster i Azure som säkerställer tjänsternas tillgänglighet och som har stöd för automatisering.</span><span class="sxs-lookup"><span data-stu-id="bffce-106">It helps to know which services Azure provides that ensures service availability and supports automation.</span></span> <span data-ttu-id="bffce-107">Dessa tjänster hjälper dig att planera organisationens strategi för affärskontinuitet och haveriberedskap.</span><span class="sxs-lookup"><span data-stu-id="bffce-107">These services help you to plan your organizations business continuity and disaster recovery strategy.</span></span>

<span data-ttu-id="bffce-108">I det här avsnittet beskriver vi Azure-tjänster som hjälper dig att förbättra tillgängligheten av virtuella datorer, effektivisera hanteringen av virtuella datorer och att säkerhetskopiera och skydda data på virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="bffce-108">Here, we will cover Azure service that helps you improve VM availability, streamlines VM management tasks and keep your VM data backed up and safe.</span></span> <span data-ttu-id="bffce-109">Vi börjar med att definiera vad tillgänglighet är.</span><span class="sxs-lookup"><span data-stu-id="bffce-109">Let's start by defining availability.</span></span>

## <a name="what-is-availability"></a><span data-ttu-id="bffce-110">Vad är tillgänglighet?</span><span class="sxs-lookup"><span data-stu-id="bffce-110">What is availability?</span></span>

<span data-ttu-id="bffce-111">Tillgänglighet är andelen tid i procent som en tjänst är tillgänglig för användning.</span><span class="sxs-lookup"><span data-stu-id="bffce-111">Availability is the percentage of time a service is available for use.</span></span>

<span data-ttu-id="bffce-112">Anta att du har en webbplats och att du vill att kunderna ska kunna komma åt informationen hela tiden.</span><span class="sxs-lookup"><span data-stu-id="bffce-112">Let's assume you have a website and you want your customers to be able to access information at all times.</span></span> <span data-ttu-id="bffce-113">Du förväntar dig 100 % tillgänglighet vad gäller åtkomsten till din webbplats.</span><span class="sxs-lookup"><span data-stu-id="bffce-113">Your expectation is 100% availability concerning website access.</span></span>

### <a name="why-do-i-need-to-think-about-availability-when-using-azure"></a><span data-ttu-id="bffce-114">Varför behöver jag bry mig om tillgänglighet när jag använder Azure?</span><span class="sxs-lookup"><span data-stu-id="bffce-114">Why do I need to think about availability when using Azure?</span></span>

<span data-ttu-id="bffce-115">Virtuella datorer i Azure körs på fysiska servrar som finns på Microsofts datacenter.</span><span class="sxs-lookup"><span data-stu-id="bffce-115">Azure VMs run on physical servers hosted within Microsoft's data centers.</span></span> <span data-ttu-id="bffce-116">Som med de flesta fysiska enheter finns det en risk att det uppstår ett fel.</span><span class="sxs-lookup"><span data-stu-id="bffce-116">As with most physical devices, there is a chance that there could be a failure.</span></span> <span data-ttu-id="bffce-117">Om den fysiska servern slutar fungera, kommer även de virtuella datorer som körs på servern att sluta fungera.</span><span class="sxs-lookup"><span data-stu-id="bffce-117">If the physical server fails, the virtual machines hosted on that server will also fail.</span></span> <span data-ttu-id="bffce-118">Om detta inträffar flyttar Azure automatiskt den virtuella datorn till en felfri värdserver.</span><span class="sxs-lookup"><span data-stu-id="bffce-118">If this happens, Azure will move the VM to a healthy host server automatically.</span></span> <span data-ttu-id="bffce-119">Den här självåterställande migreringen kan emellertid ta flera minuter, och under den perioden är programmet eller programmen som körs på den virtuella datorn inte tillgängliga.</span><span class="sxs-lookup"><span data-stu-id="bffce-119">However, this self-healing migration could take several minutes, during which, the application(s) hosted on that VM will not be available.</span></span>

<span data-ttu-id="bffce-120">De virtuella datorerna kan också påverkas av regelbundna uppdateringar som initieras av Azure.</span><span class="sxs-lookup"><span data-stu-id="bffce-120">The VMs could also be affected by periodic updates initiated by Azure itself.</span></span> <span data-ttu-id="bffce-121">Dessa underhållshändelser kan gälla allt från programvaruuppdateringar till maskinvaruuppgraderingar och krävs för att förbättra plattformens tillförlitlighet och prestanda.</span><span class="sxs-lookup"><span data-stu-id="bffce-121">These maintenance events range from software updates to hardware upgrades and are required to improve platform reliability and performance.</span></span> <span data-ttu-id="bffce-122">Dessa händelser utförs vanligtvis utan att virtuella gästdatorer påverkas, men ibland behöver de virtuella datorerna startas om för att en uppdatering eller uppgradering ska slutföras.</span><span class="sxs-lookup"><span data-stu-id="bffce-122">These events usually are performed without impacting any guest VMs, but sometimes the virtual machines will be rebooted to complete an update or upgrade.</span></span>

> [!NOTE]
> <span data-ttu-id="bffce-123">Microsoft uppdaterar inte automatiskt operativsystem eller programvara på dina virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="bffce-123">Microsoft does not automatically update your VMs OS or software.</span></span> <span data-ttu-id="bffce-124">Du har fullständig kontroll och fullständigt ansvar för det.</span><span class="sxs-lookup"><span data-stu-id="bffce-124">You have complete control and responsibility for that.</span></span> <span data-ttu-id="bffce-125">Den underliggande programvaruvärden och maskinvaran behöver dock korrigeras med jämna mellanrum för att säkerställa hög tillförlitlighet och höga prestanda hela tiden.</span><span class="sxs-lookup"><span data-stu-id="bffce-125">However, the underlying software host and hardware are periodically patched to ensure reliability and high performance at all times.</span></span>

<span data-ttu-id="bffce-126">För att undvika tjänstavbrott och felkritiska systemdelar rekommenderar vi att du distribuerar minst två instanser av varje virtuell dator. Den här funktionen kallas för en _tillgänglighetsuppsättning_.</span><span class="sxs-lookup"><span data-stu-id="bffce-126">To ensure your services are not interrupted and avoid a single point of failure, it's recommended to deploy at least two instances of each VM; this feature is called an _availability set_.</span></span>

### <a name="what-is-an-availability-set"></a><span data-ttu-id="bffce-127">Vad är en tillgänglighetsuppsättning?</span><span class="sxs-lookup"><span data-stu-id="bffce-127">What is an availability set?</span></span>

<span data-ttu-id="bffce-128">En **tillgänglighetsuppsättning** är en logisk funktion som ser till att en grupp relaterade virtuella datorer distribueras så att inte alla slås ut på grund av en enda felkritisk systemdel och så att inte alla uppgraderas på samma gång när värdoperativsystemet uppgraderas på datacentret.</span><span class="sxs-lookup"><span data-stu-id="bffce-128">An **availability set** is a logical feature used to ensure that a group of related VMs are deployed so that they are not all subject to a single point of failure and not all upgraded at the same time during a host operating system upgrade in the data center.</span></span> <span data-ttu-id="bffce-129">Virtuella datorer i en tillgänglighetsuppsättning bör utföra en identisk uppsättning funktioner och ha samma programvara installerad.</span><span class="sxs-lookup"><span data-stu-id="bffce-129">VMs placed in an availability set should perform an identical set of functionalities and have the same software installed.</span></span>

> [!TIP]
> <span data-ttu-id="bffce-130">Microsoft erbjuder ett serviceavtal (SLA) med 99,95 % garanterad extern anslutning för virtuella datorer med flera instanser som distribuerats i en tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="bffce-130">Microsoft offers a 99.95% external connectivity service level agreement (SLA) for multiple-instance VMs deployed in an availability set.</span></span> <span data-ttu-id="bffce-131">Det innebär att för att serviceavtalet ska gälla måste det finnas minst två instanser av den virtuella datorn i en tillgänglighetsuppsättning.</span><span class="sxs-lookup"><span data-stu-id="bffce-131">That means that for the SLA to apply, there must be at least two instances of the VM deployed within an availability set.</span></span> 

<span data-ttu-id="bffce-132">Du kan skapa tillgänglighetsuppsättningar via Azure Portal i avsnittet om haveriberedskap.</span><span class="sxs-lookup"><span data-stu-id="bffce-132">You can create availability sets through the Azure portal in the disaster recovery section.</span></span> <span data-ttu-id="bffce-133">Du kan också skapa dem med hjälp av Resource Manager-mallar eller något av API- eller skriptverktygen.</span><span class="sxs-lookup"><span data-stu-id="bffce-133">Also, you can build them using resource manager templates, or any of the scripting or API tools.</span></span> <span data-ttu-id="bffce-134">När du lägger till virtuella datorer i en tillgänglighetsuppsättning distribuerar Azure dem mellan **feldomäner** och **uppdateringsdomäner**.</span><span class="sxs-lookup"><span data-stu-id="bffce-134">When you place VMs into an availability set, Azure guarantees to spread them across **Fault Domains** and **Update Domains**.</span></span>

#### <a name="what-is-a-fault-domain"></a><span data-ttu-id="bffce-135">Vad är en feldomän?</span><span class="sxs-lookup"><span data-stu-id="bffce-135">What is a fault domain?</span></span>

<span data-ttu-id="bffce-136">En feldomän är en logisk grupp med maskinvara i Azure som delar samma strömkälla och nätverksswitch.</span><span class="sxs-lookup"><span data-stu-id="bffce-136">A fault domain is a logical group of hardware in Azure that share a common power source and network switch.</span></span> <span data-ttu-id="bffce-137">Den kan liknas vid ett rack i ett lokalt datacenter.</span><span class="sxs-lookup"><span data-stu-id="bffce-137">You can think of it as a rack within an on-premises datacenter.</span></span> <span data-ttu-id="bffce-138">De två första virtuella datorerna i en tillgänglighetsuppsättning etableras i två olika rack så att bara en virtuell dator påverkas i händelse av ett fel i nätverket eller ett strömavbrott.</span><span class="sxs-lookup"><span data-stu-id="bffce-138">The first two VMs in an availability set will be provisioned into two different racks so that if the network or the power failed in a rack, only one VM would be affected.</span></span> <span data-ttu-id="bffce-139">Feldomäner definieras även för hanterade diskar som är anslutna till virtuella datorer.</span><span class="sxs-lookup"><span data-stu-id="bffce-139">Fault domains are also defined for managed disks attached to VMs.</span></span>

![Feldomäner](../media-draft/5-fault-domains.png)

#### <a name="what-is-an-update-domain"></a><span data-ttu-id="bffce-141">Vad är en uppdateringsdomän?</span><span class="sxs-lookup"><span data-stu-id="bffce-141">What is an update domain?</span></span>

<span data-ttu-id="bffce-142">En uppdateringsdomän är en logisk grupp med maskinvara som kan underhållas eller startas om samtidigt.</span><span class="sxs-lookup"><span data-stu-id="bffce-142">An update domain is a logical group of hardware that can undergo maintenance or be rebooted at the same time.</span></span> <span data-ttu-id="bffce-143">Azure placerar automatiskt tillgänglighetsuppsättningar i uppdateringsdomäner för att minimera effekten när Azure-plattformen introducerar värdoperativsystemsändringar.</span><span class="sxs-lookup"><span data-stu-id="bffce-143">Azure will automatically place availability sets into update domains to minimize the impact when the Azure platform introduces host operating system changes.</span></span> <span data-ttu-id="bffce-144">Azure bearbetar sedan varje uppdateringsdomän en i taget.</span><span class="sxs-lookup"><span data-stu-id="bffce-144">Azure then processes each update domain one at a time.</span></span>

<span data-ttu-id="bffce-145">Tillgänglighetsuppsättningar är en kraftfull funktion som ser till att de tjänster som körs på dina virtuella datorer alltid är tillgängliga för dina kunder.</span><span class="sxs-lookup"><span data-stu-id="bffce-145">Availability sets are a powerful feature to ensure the services running in your VMs are always available to your customers.</span></span> <span data-ttu-id="bffce-146">De är dock inte felsäkra.</span><span class="sxs-lookup"><span data-stu-id="bffce-146">However, they aren't foolproof.</span></span> <span data-ttu-id="bffce-147">Vad händer om det uppstår problem med data eller programvaran som körs på den virtuella datorn?</span><span class="sxs-lookup"><span data-stu-id="bffce-147">What if something happens to the data or the software running on the VM itself?</span></span> <span data-ttu-id="bffce-148">För att svara på det måste vi titta på andra katastrofåterställnings- och säkerhetskopieringstekniker.</span><span class="sxs-lookup"><span data-stu-id="bffce-148">For that, we will need to look at other disaster recovery and backup techniques.</span></span>

## <a name="failover-across-locations"></a><span data-ttu-id="bffce-149">Redundansväxling mellan platser</span><span class="sxs-lookup"><span data-stu-id="bffce-149">Failover across locations</span></span>

<span data-ttu-id="bffce-150">Du kan också replikera din infrastruktur mellan platser för att hantera regional redundans.</span><span class="sxs-lookup"><span data-stu-id="bffce-150">You can also replicate your infrastructure across sites to handle regional failover.</span></span> <span data-ttu-id="bffce-151">**Azure Site Recovery** (ASR) replikerar arbetsbelastningar från en primär plats till en sekundär plats.</span><span class="sxs-lookup"><span data-stu-id="bffce-151">**Azure Site Recovery** (ASR) replicates workloads from a primary site to a secondary location.</span></span> <span data-ttu-id="bffce-152">Om ett avbrott inträffar på den primära platsen kan du växla över till en sekundär plats.</span><span class="sxs-lookup"><span data-stu-id="bffce-152">If an outage happens at your primary site, you can fail over to a secondary location.</span></span> <span data-ttu-id="bffce-153">Tack vare den här redundansväxlingen kan användarna fortsätta att komma åt dina program utan avbrott.</span><span class="sxs-lookup"><span data-stu-id="bffce-153">This failover allows users to continue to access your applications without interruption.</span></span> <span data-ttu-id="bffce-154">Du kan sedan växla tillbaka till den primära platsen när den är igång och körs igen.</span><span class="sxs-lookup"><span data-stu-id="bffce-154">You can then fail back to the primary location once it's up and running again.</span></span> <span data-ttu-id="bffce-155">Azure Site Recovery handlar om replikering av virtuella eller fysiska datorer. Tjänsten ser till att dina arbetsbelastningar är tillgängliga i händelse av ett avbrott.</span><span class="sxs-lookup"><span data-stu-id="bffce-155">Azure Site Recovery is about replication of virtual or physical machines; it keeps your workloads available in an outage.</span></span>

<span data-ttu-id="bffce-156">Det finns en rad intressanta tekniska funktioner i ASR, och när det gäller affärsfördelar sticker två viktiga funktioner ut:</span><span class="sxs-lookup"><span data-stu-id="bffce-156">While there are many attractive technical features to ASR, there are at least two significant business advantages:</span></span>

1. <span data-ttu-id="bffce-157">Med ASR kan du använda Azure som mål för återställning, vilket eliminerar kostnaden och komplexiteten med att underhålla ett sekundärt fysiska datacenter.</span><span class="sxs-lookup"><span data-stu-id="bffce-157">ASR enables the use of Azure as a destination for recovery, thus eliminating the cost and complexity of maintaining a secondary physical datacenter.</span></span>

2. <span data-ttu-id="bffce-158">ASR gör det otroligt enkelt att testa redundansen i samband med återställningstester utan att påverka produktionsmiljön.</span><span class="sxs-lookup"><span data-stu-id="bffce-158">ASR makes it incredibly simple to test failovers for recovery drills without impacting production environments.</span></span> <span data-ttu-id="bffce-159">På så vis kan du enkelt testa planerade eller oplanerade redundansväxlingar.</span><span class="sxs-lookup"><span data-stu-id="bffce-159">This makes it easy to test your planned or unplanned failovers.</span></span> <span data-ttu-id="bffce-160">Hur vet du om din katastrofåterställningsplan fungerar om du aldrig har provat att redundansväxla?</span><span class="sxs-lookup"><span data-stu-id="bffce-160">After all, you don’t have a good disaster recovery plan if you’ve never tried to failover.</span></span>

<span data-ttu-id="bffce-161">De återställningsplaner som du skapar med ASR kan vara så enkla eller så komplexa som ditt scenario kräver.</span><span class="sxs-lookup"><span data-stu-id="bffce-161">The recovery plans you create with ASR can be as simple or as complex as your scenario requires.</span></span> <span data-ttu-id="bffce-162">De kan innehålla anpassade PowerShell-skript, Azure Automation-runbooks eller manuella åtgärdssteg.</span><span class="sxs-lookup"><span data-stu-id="bffce-162">They can include custom PowerShell scripts, Azure Automation runbooks, or manual intervention steps.</span></span> <span data-ttu-id="bffce-163">Du kan använda återställningsplaner för att replikera arbetsbelastningar till Azure och enkelt dra nytta av nya möjligheter i fråga om migrering, tillfälliga trafiktoppar eller utveckling och testning av nya program.</span><span class="sxs-lookup"><span data-stu-id="bffce-163">You can leverage the recovery plans to replicate workloads to Azure, easily enabling new opportunities for migration, temporary bursts during surge periods, or development and testing of new applications.</span></span>

<span data-ttu-id="bffce-164">Azure Site Recovery kan användas med Azure-resurser eller med Hyper-V-servrar, VMware-servrar och fysiska servrar i din lokala infrastruktur och kan utgöra en viktig del av din organisations strategi för affärskontinuitet och haveriberedskap (BCDR) genom att samordna replikering, redundans och återställning av arbetsbelastningar och program om den primära platsen slutar fungera.</span><span class="sxs-lookup"><span data-stu-id="bffce-164">Azure Site Recovery works with Azure resources, or Hyper-V, VMware, and physical servers in your on-premise infrastructure and can be a key part of your organization’s business continuity and disaster recovery (BCDR) strategy by orchestrating the replication, failover, and recovery of workloads and applications if the primary location fails.</span></span>
