<span data-ttu-id="b47a2-101">Att skapa administrationsskript är ett kraftfullt sätt att optimera ditt arbetsflöde.</span><span class="sxs-lookup"><span data-stu-id="b47a2-101">Creating administration scripts is a powerful way to optimize your work flow.</span></span> <span data-ttu-id="b47a2-102">Du kan automatisera återkommande, repetitiva uppgifter.</span><span class="sxs-lookup"><span data-stu-id="b47a2-102">You can automate common, repetitive tasks.</span></span> <span data-ttu-id="b47a2-103">När ett skript har verifierats körs det konsekvent, vilket troligen minskar förekomsten av fel.</span><span class="sxs-lookup"><span data-stu-id="b47a2-103">Once a script has been verified, it will run consistently, which will likely reduce errors.</span></span> <span data-ttu-id="b47a2-104">I den föregående övningen skapade vi en virtuell dator, lade till en datadisk och ändrade cacheinställningarna – allt via Azure-portalen.</span><span class="sxs-lookup"><span data-stu-id="b47a2-104">In the previous exercise, we created a VM, added a data disk and changed cache settings all through the Azure portal.</span></span> <span data-ttu-id="b47a2-105">Hur går det till om vi behöver upprepa dessa uppgifter för många virtuella datorer i många regioner?</span><span class="sxs-lookup"><span data-stu-id="b47a2-105">What if we needed to repeat these tasks across many VMs, in many regions?</span></span> <span data-ttu-id="b47a2-106">Vi använder Azure Powershell!</span><span class="sxs-lookup"><span data-stu-id="b47a2-106">Let's use Azure Powershell!</span></span>

## <a name="what-is-azure-powershell"></a><span data-ttu-id="b47a2-107">Vad är Azure PowerShell?</span><span class="sxs-lookup"><span data-stu-id="b47a2-107">What is Azure PowerShell?</span></span>
<span data-ttu-id="b47a2-108">Azure PowerShell är en modul som du lägger till i PowerShell så att du kan ansluta till din Azure-prenumeration och hantera resurser.</span><span class="sxs-lookup"><span data-stu-id="b47a2-108">Azure PowerShell is a module that you add to PowerShell to let you connect to your Azure subscription and manage resources.</span></span> <span data-ttu-id="b47a2-109">Azure PowerShell kräver PowerShell för att fungera.</span><span class="sxs-lookup"><span data-stu-id="b47a2-109">Azure PowerShell requires PowerShell to function.</span></span> <span data-ttu-id="b47a2-110">PowerShell tillhandahåller tjänster som gränssnittsfönster, kommandoparsning och så vidare.</span><span class="sxs-lookup"><span data-stu-id="b47a2-110">PowerShell provides services like the shell window, command parsing, and so on.</span></span> <span data-ttu-id="b47a2-111">Azure PowerShell lägger till Azure-specifika kommandon.</span><span class="sxs-lookup"><span data-stu-id="b47a2-111">Azure PowerShell adds the Azure-specific commands.</span></span>

<span data-ttu-id="b47a2-112">Azure PowerShell tillhandahåller till exempel kommandot **New-AzureRmVM**, som skapar en virtuell dator åt dig i din Azure-prenumeration.</span><span class="sxs-lookup"><span data-stu-id="b47a2-112">For example, Azure PowerShell provides the **New-AzureRmVM** command that creates a Virtual Machine for you inside your Azure subscription.</span></span> <span data-ttu-id="b47a2-113">För att använda det startar du PowerShell-programmet och sedan anger ett kommando som i det här exemplet:</span><span class="sxs-lookup"><span data-stu-id="b47a2-113">To use it, you would launch the PowerShell application and then issue a command like the  example:</span></span>

```powershell
New-AzureRmVm `
    -ResourceGroupName "CrmTestingResourceGroup" `
    -Name "CrmUnitTests" `
    -Image "UbuntuLTS"
    ...
```

<span data-ttu-id="b47a2-114">Azure PowerShell finns tillgängligt på två sätt: i en webbläsare via Azure Cloud Shell eller via en lokal installation på Linux, Mac eller Windows.</span><span class="sxs-lookup"><span data-stu-id="b47a2-114">Azure PowerShell is available two ways: inside a browser via the Azure Cloud Shell or with a local install on Linux, Mac, or Windows.</span></span>

## <a name="what-are-powershell-cmdlets"></a><span data-ttu-id="b47a2-115">Vad är PowerShell-cmdletar?</span><span class="sxs-lookup"><span data-stu-id="b47a2-115">What are PowerShell cmdlets?</span></span>

<span data-ttu-id="b47a2-116">Ett PowerShell-kommando kallas för en **cmdlet** (uttalas ”command-let”).</span><span class="sxs-lookup"><span data-stu-id="b47a2-116">A PowerShell command is called a **cmdlet** (pronounced "command-let").</span></span> <span data-ttu-id="b47a2-117">En cmdlet är ett kommando som manipulerar en enskild funktion.</span><span class="sxs-lookup"><span data-stu-id="b47a2-117">A cmdlet is a command that manipulates a single feature.</span></span> <span data-ttu-id="b47a2-118">Termen **cmdlet** är tänkt att avse ett ”litet kommando”.</span><span class="sxs-lookup"><span data-stu-id="b47a2-118">The term **cmdlet** is intended to imply "small command".</span></span> <span data-ttu-id="b47a2-119">Enligt konventionen uppmuntras de som skriver cmdletar att hålla dem enkla med ett enda syfte.</span><span class="sxs-lookup"><span data-stu-id="b47a2-119">By convention, cmdlet authors are encouraged to keep cmdlets simple and single-purpose.</span></span>

<span data-ttu-id="b47a2-120">PowerShell-grundprodukten levereras med cmdletar för funktioner som sessioner och bakgrundsjobb.</span><span class="sxs-lookup"><span data-stu-id="b47a2-120">The base PowerShell product ships with cmdlets that work with features such as sessions and background jobs.</span></span> <span data-ttu-id="b47a2-121">Du lägger till moduler i PowerShell-installationen för att hämta cmdletar som manipulerar andra funktioner.</span><span class="sxs-lookup"><span data-stu-id="b47a2-121">You add modules to your PowerShell installation to get cmdlets that manipulate other features.</span></span> <span data-ttu-id="b47a2-122">Det finns till exempel moduler från tredje part för att arbeta med ftp, administrera operativsystemet, använda filsystemet och så vidare.</span><span class="sxs-lookup"><span data-stu-id="b47a2-122">For example, there are third-party modules to work with ftp, administer your operating system, access the file system, and so on.</span></span>

<span data-ttu-id="b47a2-123">Cmdletar följer en namngivningskonvention med verb-substantiv, till exempel **Get-Process**, **Format-Table** eller **Start-Service**.</span><span class="sxs-lookup"><span data-stu-id="b47a2-123">Cmdlets follow a verb-noun naming convention; for example, **Get-Process**, **Format-Table**, and **Start-Service**.</span></span> <span data-ttu-id="b47a2-124">Dessutom finns en konvention för valet av verb: ”get” för att hämta data, ”set” för att infoga eller uppdatera data, ”format” för att formatera data, ”out” för att skicka utdata till ett mål och så vidare.</span><span class="sxs-lookup"><span data-stu-id="b47a2-124">There's also a convention for verb choice: "get" to retrieve data, "set" to insert or update data, "format" to format data, "out" to direct output to a destination, and so on.</span></span>

<span data-ttu-id="b47a2-125">De som skriver cmdletar uppmanas att inkludera en hjälpfil för varje cmdlet.</span><span class="sxs-lookup"><span data-stu-id="b47a2-125">Cmdlet authors are encouraged to include a help file for each cmdlet.</span></span> <span data-ttu-id="b47a2-126">Cmdleten **Get-Help** visar hjälpfilen för en cmdlet:</span><span class="sxs-lookup"><span data-stu-id="b47a2-126">The **Get-Help** cmdlet displays the help file for any cmdlet:</span></span>

```
Get-Help <cmdlet-name> -detailed
```
## <a name="what-is-azurerm"></a><span data-ttu-id="b47a2-127">Vad är AzureRM?</span><span class="sxs-lookup"><span data-stu-id="b47a2-127">What is AzureRM?</span></span>

<span data-ttu-id="b47a2-128">**AzureRM** är det formella namnet på Azure PowerShell-modulen som har en uppsättning cmdletar för arbete med Azure-funktioner (**RM** i namnet står för **Resource Manager**).</span><span class="sxs-lookup"><span data-stu-id="b47a2-128">**AzureRM** is the formal name for the Azure PowerShell module that has a set of cmdlets to work with Azure features (the **RM** in the name stands for **Resource Manager**).</span></span> <span data-ttu-id="b47a2-129">Den innehåller hundratals cmdletar som gör att du kan styra nästan alla aspekter av varje Azure-resurs.</span><span class="sxs-lookup"><span data-stu-id="b47a2-129">It contains hundreds of cmdlets that let you control nearly every aspect of every Azure resource.</span></span> <span data-ttu-id="b47a2-130">Du kan arbeta med resursgrupper, lagring, virtuella datorer, Azure Active Directory, containers, maskininlärning och så vidare.</span><span class="sxs-lookup"><span data-stu-id="b47a2-130">You can work with resource groups, storage, virtual machines, Azure Active Directory, containers, machine learning, and so on.</span></span>

## <a name="powershell-cmdlets-for-managing-azure-disk-caching"></a><span data-ttu-id="b47a2-131">PowerShell-cmdletar för att hantera Azure-diskcachelagring</span><span class="sxs-lookup"><span data-stu-id="b47a2-131">PowerShell cmdlets for managing Azure disk caching</span></span>

<span data-ttu-id="b47a2-132">Azure PowerShell har specifika cmdletar som hjälper till med hanteringen av virtuella datorer och diskar.</span><span class="sxs-lookup"><span data-stu-id="b47a2-132">Azure PowerShell has specific cmdlets to help manage VMs and disks.</span></span> 

<span data-ttu-id="b47a2-133">I följande tabell visas några av de cmdlets som vi kommer att använda i nästa övning.</span><span class="sxs-lookup"><span data-stu-id="b47a2-133">The following table lists some of the cmdlets we'll use in the next exercise.</span></span>

|<span data-ttu-id="b47a2-134">Kommando</span><span class="sxs-lookup"><span data-stu-id="b47a2-134">Command</span></span>  |<span data-ttu-id="b47a2-135">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="b47a2-135">Description</span></span>  |
|---------|---------|
|`Get-AzureRmVM`     |  <span data-ttu-id="b47a2-136">Hämtar egenskaperna för en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="b47a2-136">Gets the properties of a virtual machine.</span></span>       |        <span data-ttu-id="b47a2-137">$myVM</span><span class="sxs-lookup"><span data-stu-id="b47a2-137">$myVM</span></span>
|`Update-AzureRmVM`     |  <span data-ttu-id="b47a2-138">Uppdaterar tillståndet för en virtuell Azure-dator.</span><span class="sxs-lookup"><span data-stu-id="b47a2-138">Updates the state of an Azure virtual machine.</span></span>       |        
|`New-AzureRmDiskConfig`     |  <span data-ttu-id="b47a2-139">Skapar ett konfigurerbart diskobjekt.</span><span class="sxs-lookup"><span data-stu-id="b47a2-139">Creates a configurable disk object.</span></span>       |        
|`Add-AzureRmVMDataDisk`     |  <span data-ttu-id="b47a2-140">Lägger till en datadisk till en virtuell dator.</span><span class="sxs-lookup"><span data-stu-id="b47a2-140">Adds a data disk to a virtual machine.</span></span>   |      


<span data-ttu-id="b47a2-141">Vi använder dessa cmdlets i nästa övning för att hantera cachelagring på den virtuella datorn.</span><span class="sxs-lookup"><span data-stu-id="b47a2-141">Let's use these cmdlets in the next exercise to manage caching on our VM.</span></span>
